2025-06-21 21:47:32 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 21:47:32 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 21:47:32 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 21:47:32 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 21:47:32 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 21:47:32 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 21:47:32 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 21:47:32 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 21:47:32 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 21:47:32 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 21:47:32 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 21:47:32 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 21:47:32 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 21:47:32 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 21:47:32 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 21:47:32 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 21:47:32 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 21:47:32 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 21:47:32 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 21:47:34 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 21:47:34 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 21:47:34 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 21:47:34 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 21:47:34 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 21:47:34 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 21:47:34 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 21:47:34 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 21:47:34 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 21:47:34 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 21:47:34 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 21:47:34 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 21:47:34 - __main__ - INFO - 📋 环境信息: local
2025-06-21 21:47:34 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 21:47:34 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 21:47:34 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 21:47:34 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 21:47:34 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 21:47:34 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 21:47:35 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 21:47:35 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 21:47:35 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 21:47:35 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 21:47:35 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 21:47:35 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 21:47:35 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 21:47:35 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 21:47:35 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 21:47:35 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 21:47:35 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 21:47:35 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 21:47:35 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 21:47:35 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 21:47:35 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 21:47:35 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 21:47:35 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 21:47:35 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 21:47:35 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 21:47:35 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 21:47:35 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 21:47:35 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 21:47:35 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 21:47:35 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 21:47:35 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 21:47:35 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 21:47:35 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 21:49:57 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 21:49:58 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 21:49:59 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 21:49:59 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 21:50:01 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 21:50:01 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-21 21:50:01 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-21 21:50:01 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-21 21:50:01 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-21 21:50:01 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-21 21:50:01 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-21 21:50:01 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-21 21:50:01 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 可用
2025-06-21 21:50:01 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-21 21:50:01 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-21 21:50:06 - modules.downloader.api - INFO - ✅ 统一下载API初始化完成
2025-06-21 21:50:06 - modules.downloader.api - INFO - 📥 创建下载任务: https://youtu.be/a71nwW6whIs?si=zduCEc0O-0POccg4
2025-06-21 21:50:06 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-21 21:50:06 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-21 21:50:06 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-21 21:50:06 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-21 21:50:06 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-21 21:50:06 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-21 21:50:06 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-21 21:50:06 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-21 21:50:06 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: e09bc740-f8e8-4f5a-892d-047816025f6a
2025-06-21 21:50:06 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-21 21:50:06 - modules.downloader.manager - INFO - 🔄 开始执行下载: e09bc740-f8e8-4f5a-892d-047816025f6a - https://youtu.be/a71nwW6whIs?si=zduCEc0O-0POccg4
2025-06-21 21:50:06 - modules.downloader.manager - INFO - 📥 创建下载任务: e09bc740-f8e8-4f5a-892d-047816025f6a - https://youtu.be/a71nwW6whIs?si=zduCEc0O-0POccg4
2025-06-21 21:50:06 - modules.downloader.api - INFO - ✅ 下载任务创建成功: e09bc740-f8e8-4f5a-892d-047816025f6a
2025-06-21 21:50:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-21 21:50:06 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-21 21:50:06 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-21 21:50:06 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-21 21:50:07 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://youtu.be/a71nwW6whIs?si=zduCEc0O-0POccg4
2025-06-21 21:50:07 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-21 21:50:07 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-21 21:50:07 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-21 21:50:07 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-21 21:50:23 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 21:50:35 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 21:50:35 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 21:50:35 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 21:50:37 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: 经济危机下的中国。放水成了常态。天天放水，市场却一动不动。中国央行这波操作，真能救经济吗？超2万亿逆回购涌入市场！为什么实体经济一滴都没喝到？揭秘“金融水缸效应”！ (21个格式)
2025-06-21 21:50:37 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-21 21:50:37 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-21 21:50:37 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-21 21:50:37 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.2.222:1186
2025-06-21 21:50:37 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: D:\app\data\cookies\youtube.txt
2025-06-21 21:50:50 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\e09bc740-f8e8-4f5a-892d-047816025f6a.mp4
2025-06-21 21:50:50 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-21 21:50:50 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-21 21:50:50 - modules.downloader.filename_processor - INFO - ✅ 主文件重命名: e09bc740-f8e8-4f5a-892d-047816025f6a.mp4 -> 经济危机下的中国。放水成了常态。天天放水,市场却一动不动。中国央行这波操作,真能救经济吗_超2万亿逆回购涌入市场!为什么实体经济一滴都没喝到_揭秘“金融水缸效应.mp4
2025-06-21 21:50:50 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-21 21:50:50 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: e09bc740-f8e8-4f5a-892d-047816025f6a - 经济危机下的中国。放水成了常态。天天放水，市场却一动不动。中国央行这波操作，真能救经济吗？超2万亿逆回购涌入市场！为什么实体经济一滴都没喝到？揭秘“金融水缸效应”！
2025-06-21 21:50:50 - modules.telegram.notifier - INFO - 📤 准备发送文件: 经济危机下的中国。放水成了常态。天天放水,市场却一动不动。中国央行这波操作,真能救经济吗_超2万亿逆回购涌入市场!为什么实体经济一滴都没喝到_揭秘“金融水缸效应.mp4 (16.4MB)
2025-06-21 21:50:50 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: 经济危机下的中国。放水成了常态。天天放水,市场却一动不动。中国央行这波操作,真能救经济吗_超2万亿逆回购涌入市场!为什么实体经济一滴都没喝到_揭秘“金融水缸效应.mp4 (16.4MB)
2025-06-21 21:50:50 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-21 21:51:17 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 21:51:20 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 21:51:20 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 21:51:23 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:51:34 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:51:45 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:51:46 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-21 21:51:46 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-21 21:51:46 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-21 21:51:46 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 21:51:46 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-21 21:51:48 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 21:51:48 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 21:51:48 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-21 21:51:57 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:52:00 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 21:52:00 - modules.auth.routes - INFO - ✅ 用户登录成功: admin
2025-06-21 21:52:01 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-21 21:52:08 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:52:19 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:52:20 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 21:52:31 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 21:52:42 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-21 21:52:42 - modules.telegram.uploaders.modern_hybrid - WARNING - ⚠️ Pyrofork 失败，尝试 Bot API 回退
2025-06-21 21:52:42 - modules.telegram.base - WARNING - ⚠️ 获取视频元数据失败: [WinError 2] 系统找不到指定的文件。
2025-06-21 21:52:42 - modules.telegram.uploaders.bot_api - INFO - 📤 使用Bot API发送video文件: 经济危机下的中国。放水成了常态。天天放水,市场却一动不动。中国央行这波操作,真能救经济吗_超2万亿逆回购涌入市场!为什么实体经济一滴都没喝到_揭秘“金融水缸效应.mp4 (16.4MB)
2025-06-21 21:52:42 - modules.telegram.base - WARNING - ⚠️ 生成缩略图失败: [WinError 2] 系统找不到指定的文件。
2025-06-21 21:52:50 - modules.telegram.uploaders.bot_api - INFO - ✅ 视频发送成功
2025-06-21 21:52:50 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ 文件发送成功: 经济危机下的中国。放水成了常态。天天放水,市场却一动不动。中国央行这波操作,真能救经济吗_超2万亿逆回购涌入市场!为什么实体经济一滴都没喝到_揭秘“金融水缸效应.mp4
2025-06-21 21:52:50 - modules.telegram.notifier - INFO - ✅ 文件发送成功: 经济危机下的中国。放水成了常态。天天放水,市场却一动不动。中国央行这波操作,真能救经济吗_超2万亿逆回购涌入市场!为什么实体经济一滴都没喝到_揭秘“金融水缸效应.mp4
2025-06-21 21:52:50 - modules.telegram.notifier - INFO - ✅ 文件自动发送成功: 经济危机下的中国。放水成了常态。天天放水，市场却一动不动。中国央行这波操作，真能救经济吗？超2万亿逆回购涌入市场！为什么实体经济一滴都没喝到？揭秘“金融水缸效应”！
2025-06-21 21:52:50 - modules.downloader.manager - INFO - 📡 发送下载完成事件: e09bc740-f8e8-4f5a-892d-047816025f6a
2025-06-21 21:52:50 - modules.downloader.manager - INFO - ✅ 下载完成: e09bc740-f8e8-4f5a-892d-047816025f6a - 经济危机下的中国。放水成了常态。天天放水，市场却一动不动。中国央行这波操作，真能救经济吗？超2万亿逆回购涌入市场！为什么实体经济一滴都没喝到？揭秘“金融水缸效应”！
2025-06-21 21:53:20 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 21:53:20 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 21:53:20 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 21:53:20 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 21:53:20 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 21:53:20 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 21:53:20 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 21:53:20 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 21:53:20 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 21:53:20 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 21:53:20 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 21:53:20 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 21:53:20 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 21:53:20 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 21:53:20 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 21:53:21 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 21:53:21 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 21:53:21 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 21:53:21 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 21:53:21 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 21:53:21 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 21:53:21 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 21:53:21 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 21:53:21 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 21:53:21 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 21:53:21 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 21:53:21 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 21:53:21 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 21:53:21 - __main__ - INFO - 📋 环境信息: local
2025-06-21 21:53:21 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 21:53:21 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 21:53:21 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 21:53:21 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 21:53:21 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 21:53:21 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 21:53:21 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 21:53:21 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 21:53:21 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 21:53:21 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 21:53:21 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 21:53:21 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 21:53:21 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 21:53:21 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 21:53:21 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 21:53:21 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 21:53:21 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 21:53:21 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 21:53:21 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 21:53:21 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 21:53:21 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 21:53:21 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 21:53:21 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 21:53:21 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 21:53:21 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 21:53:21 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 21:53:21 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 21:53:21 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 21:53:21 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 21:53:43 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 21:53:43 - modules.auth.routes - INFO - ✅ 用户登录成功: admin
2025-06-21 21:58:22 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 21:58:22 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 21:58:22 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 21:58:22 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 21:58:22 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 21:58:22 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 21:58:22 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 21:58:22 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 21:58:22 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 21:58:22 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 21:58:22 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 21:58:22 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 21:58:22 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 21:58:22 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 21:58:22 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 21:58:22 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 21:58:22 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 21:58:22 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 21:58:22 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 21:58:24 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 21:58:24 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 21:58:24 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 21:58:24 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 21:58:24 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 21:58:24 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 21:58:24 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 21:58:24 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 21:58:24 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 21:58:24 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 21:58:24 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 21:58:24 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 21:58:24 - __main__ - INFO - 📋 环境信息: local
2025-06-21 21:58:24 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 21:58:24 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 21:58:24 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 21:58:24 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 21:58:24 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 21:58:24 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 21:58:24 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 21:58:24 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 21:58:24 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 21:58:24 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 21:58:24 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 21:58:24 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 21:58:24 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 21:58:24 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 21:58:24 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 21:58:24 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 21:58:24 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 21:58:24 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 21:58:24 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 21:58:24 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 21:58:24 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 21:58:24 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 21:58:24 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 21:58:24 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 21:58:24 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 21:58:24 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 21:58:24 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 21:58:24 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 21:58:24 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 21:58:24 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 21:58:24 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 21:58:24 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 21:58:24 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 21:58:26 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 21:58:26 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 21:58:31 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 21:58:31 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 21:58:48 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 21:58:48 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-21 21:58:48 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-21 21:58:48 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-21 21:58:48 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-21 21:58:48 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-21 21:58:48 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-21 21:58:48 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-21 21:58:48 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 可用
2025-06-21 21:58:48 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-21 21:58:48 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-21 21:58:48 - modules.downloader.api - INFO - ✅ 统一下载API初始化完成
2025-06-21 21:58:48 - modules.downloader.api - INFO - 📥 创建下载任务: https://youtu.be/MfgXjyeYSwY?si=xFL60YfEkfC-4fKd
2025-06-21 21:58:48 - modules.downloader.cleanup - INFO - 🧹 清理完成: 删除 1 个文件，释放 16.4 MB 空间
2025-06-21 21:58:48 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-21 21:58:48 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-21 21:58:48 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-21 21:58:48 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-21 21:58:48 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-21 21:58:48 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-21 21:58:48 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-21 21:58:48 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-21 21:58:48 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: a6f6a57f-d573-47e1-8de9-ccf56339b9f7
2025-06-21 21:58:48 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-21 21:58:48 - modules.downloader.manager - INFO - 🔄 开始执行下载: a6f6a57f-d573-47e1-8de9-ccf56339b9f7 - https://youtu.be/MfgXjyeYSwY?si=xFL60YfEkfC-4fKd
2025-06-21 21:58:48 - modules.downloader.manager - INFO - 📥 创建下载任务: a6f6a57f-d573-47e1-8de9-ccf56339b9f7 - https://youtu.be/MfgXjyeYSwY?si=xFL60YfEkfC-4fKd
2025-06-21 21:58:48 - modules.downloader.api - INFO - ✅ 下载任务创建成功: a6f6a57f-d573-47e1-8de9-ccf56339b9f7
2025-06-21 21:58:48 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-21 21:58:48 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-21 21:58:48 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-21 21:58:48 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-21 21:58:48 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://youtu.be/MfgXjyeYSwY?si=xFL60YfEkfC-4fKd
2025-06-21 21:58:48 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-21 21:58:48 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-21 21:58:48 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-21 21:58:49 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-21 21:59:05 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 21:59:17 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 21:59:17 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 21:59:17 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 21:59:18 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: 伊朗的地緣政治格局！中共為什麼選擇伊朗？本次伊朗炸疼了誰？以色列的政治盤算？美國會出兵嗎？從人類命運共同體到北京山頂洞人共同體！ (31个格式)
2025-06-21 21:59:18 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-21 21:59:18 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-21 21:59:18 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-21 21:59:18 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.2.222:1186
2025-06-21 21:59:18 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: D:\app\data\cookies\youtube.txt
2025-06-21 21:59:33 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4
2025-06-21 21:59:33 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-21 21:59:33 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-21 21:59:33 - modules.downloader.filename_processor - ERROR - ❌ 重命名文件失败 data\downloads\a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4: [WinError 183] 当文件已存在时，无法创建该文件。: 'data\\downloads\\a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4' -> 'data\\downloads\\伊朗的地緣政治格局!中共為什麼選擇伊朗_本次伊朗炸疼了誰_以色列的政治盤算_美國會出兵嗎_從人類命運共同體到北京山頂洞人共同體!.mp4'
2025-06-21 21:59:33 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-21 21:59:33 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: a6f6a57f-d573-47e1-8de9-ccf56339b9f7 - 伊朗的地緣政治格局！中共為什麼選擇伊朗？本次伊朗炸疼了誰？以色列的政治盤算？美國會出兵嗎？從人類命運共同體到北京山頂洞人共同體！
2025-06-21 21:59:33 - modules.telegram.notifier - INFO - 📤 准备发送文件: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4 (35.3MB)
2025-06-21 21:59:33 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4 (35.3MB)
2025-06-21 21:59:33 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-21 22:00:02 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:00:13 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:00:24 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:00:25 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:00:36 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:00:47 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:00:58 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:00:58 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:00:59 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:01:08 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:01:10 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:01:18 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:01:21 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-21 22:01:21 - modules.telegram.uploaders.modern_hybrid - WARNING - ⚠️ Pyrofork 失败，尝试 Bot API 回退
2025-06-21 22:01:21 - modules.telegram.base - WARNING - ⚠️ 获取视频元数据失败: [WinError 2] 系统找不到指定的文件。
2025-06-21 22:01:21 - modules.telegram.uploaders.bot_api - INFO - 📤 使用Bot API发送video文件: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4 (35.3MB)
2025-06-21 22:01:21 - modules.telegram.base - WARNING - ⚠️ 生成缩略图失败: [WinError 2] 系统找不到指定的文件。
2025-06-21 22:01:28 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-21 22:01:28 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-21 22:01:28 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-21 22:01:28 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-21 22:01:29 - modules.telegram.uploaders.bot_api - INFO - ✅ 视频发送成功
2025-06-21 22:01:29 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ 文件发送成功: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4
2025-06-21 22:01:29 - modules.telegram.notifier - INFO - ✅ 文件发送成功: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4
2025-06-21 22:01:29 - modules.telegram.notifier - INFO - ✅ 文件自动发送成功: 伊朗的地緣政治格局！中共為什麼選擇伊朗？本次伊朗炸疼了誰？以色列的政治盤算？美國會出兵嗎？從人類命運共同體到北京山頂洞人共同體！
2025-06-21 22:01:29 - modules.downloader.manager - INFO - 📡 发送下载完成事件: a6f6a57f-d573-47e1-8de9-ccf56339b9f7
2025-06-21 22:01:29 - modules.downloader.manager - INFO - ✅ 下载完成: a6f6a57f-d573-47e1-8de9-ccf56339b9f7 - 伊朗的地緣政治格局！中共為什麼選擇伊朗？本次伊朗炸疼了誰？以色列的政治盤算？美國會出兵嗎？從人類命運共同體到北京山頂洞人共同體！
2025-06-21 22:01:30 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:01:30 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 22:01:30 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-21 22:01:36 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:01:40 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-21 22:01:40 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-21 22:01:40 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-21 22:01:41 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-21 22:01:42 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:01:42 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 22:01:42 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-21 22:02:15 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:02:57 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:03:02 - api.routes - ERROR - ❌ 获取文件列表失败: 'Request' object has no attribute 'app'
2025-06-21 22:04:23 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:04:23 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:04:23 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:04:23 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:04:23 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:04:23 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:04:23 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:04:23 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:04:23 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:04:23 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:04:23 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:04:23 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:04:23 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:04:23 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:04:23 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:04:23 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:04:23 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:04:23 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:04:23 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:04:23 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:04:23 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:04:23 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:04:23 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:04:23 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:04:23 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:04:23 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:04:23 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:04:23 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:04:23 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:04:23 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:04:23 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:04:23 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:04:23 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:04:23 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:04:23 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:04:23 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:04:23 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:04:23 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:04:23 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:04:23 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:04:23 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:04:23 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:04:23 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:04:23 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:04:23 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:04:23 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:04:23 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:04:23 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:04:23 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:04:23 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:04:23 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:04:23 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:04:23 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:04:23 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:04:23 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:04:23 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:04:24 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:04:24 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:04:27 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:04:27 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 22:05:15 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:05:15 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:05:15 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:05:15 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:05:15 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:05:15 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:05:15 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:05:15 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:05:15 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:05:15 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:05:15 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:05:15 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:05:15 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:05:15 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:05:15 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:05:15 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:05:15 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:05:15 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:05:15 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:05:15 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:05:15 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:05:15 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:05:15 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:05:15 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:05:15 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:05:15 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:05:15 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:05:15 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:05:15 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:05:15 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:05:15 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:05:15 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:05:15 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:05:15 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:05:15 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:05:15 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:05:15 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:05:15 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:05:15 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:05:15 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:05:15 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:05:15 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:05:15 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:05:15 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:05:15 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:05:15 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:05:15 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:05:15 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:05:15 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:05:15 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:05:15 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:05:15 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:05:15 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:05:15 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:05:15 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:05:15 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:05:15 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:05:20 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:05:20 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=2592000
2025-06-21 22:05:41 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:05:41 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-21 22:05:41 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-21 22:05:41 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-21 22:05:41 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-21 22:05:41 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-21 22:05:41 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-21 22:05:41 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-21 22:05:41 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 可用
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-21 22:05:41 - modules.downloader.api - INFO - ✅ 统一下载API初始化完成
2025-06-21 22:05:41 - modules.downloader.api - INFO - 📥 创建下载任务: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-21 22:05:41 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-21 22:05:41 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:05:41 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:05:41 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-21 22:05:41 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-21 22:05:41 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-21 22:05:41 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-21 22:05:41 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: b220e890-063c-4d20-a682-77e48d9f8063
2025-06-21 22:05:41 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 🔄 开始执行下载: b220e890-063c-4d20-a682-77e48d9f8063 - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 📥 创建下载任务: b220e890-063c-4d20-a682-77e48d9f8063 - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.downloader.api - INFO - ✅ 下载任务创建成功: b220e890-063c-4d20-a682-77e48d9f8063
2025-06-21 22:05:41 - modules.downloader.api - INFO - 📥 创建下载任务: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:05:41 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-21 22:05:41 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:05:41 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:05:41 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 80b44496-8069-4252-94ac-68eda86c8f3b
2025-06-21 22:05:41 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 🔄 开始执行下载: 80b44496-8069-4252-94ac-68eda86c8f3b - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.downloader.manager - INFO - 📥 创建下载任务: 80b44496-8069-4252-94ac-68eda86c8f3b - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.downloader.api - INFO - ✅ 下载任务创建成功: 80b44496-8069-4252-94ac-68eda86c8f3b
2025-06-21 22:05:41 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:05:41 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-21 22:05:41 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:05:41 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:41 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-21 22:05:41 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-21 22:05:41 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-21 22:05:44 - modules.downloader.api - INFO - 📥 创建下载任务: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:44 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: c94b421a-5188-434a-b842-c023285410d0
2025-06-21 22:05:44 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:05:44 - modules.downloader.manager - INFO - 🔄 开始执行下载: c94b421a-5188-434a-b842-c023285410d0 - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:44 - modules.downloader.manager - INFO - 📥 创建下载任务: c94b421a-5188-434a-b842-c023285410d0 - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:44 - modules.downloader.api - INFO - ✅ 下载任务创建成功: c94b421a-5188-434a-b842-c023285410d0
2025-06-21 22:05:44 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:05:44 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-21 22:05:44 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:05:44 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:05:44 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:05:44 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-21 22:05:44 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-21 22:05:44 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-21 22:05:58 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:05:58 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:06:01 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:06:10 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:06:10 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:06:10 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:06:11 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:06:11 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:06:11 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:06:13 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 142.250.196.202:443, 2404:6800:4012:5::200a:443, 142.250.66.74:443, 2404:6800:4012:9::200a:443, 142.250.204.42:443, 2404:6800:4012:8::200a:443, 142.250.198.74:443, 142.250.77.10:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:06:13 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:06:13 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:06:15 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster) (27个格式)
2025-06-21 22:06:15 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster) (27个格式)
2025-06-21 22:06:15 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-21 22:06:15 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-21 22:06:15 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-21 22:06:15 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-21 22:06:15 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-21 22:06:15 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-21 22:06:15 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.2.222:1186
2025-06-21 22:06:15 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.2.222:1186
2025-06-21 22:06:15 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: D:\app\data\cookies\youtube.txt
2025-06-21 22:06:15 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: D:\app\data\cookies\youtube.txt
2025-06-21 22:06:16 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster) (27个格式)
2025-06-21 22:06:16 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-21 22:06:16 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-21 22:06:16 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-21 22:06:16 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.2.222:1186
2025-06-21 22:06:16 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: D:\app\data\cookies\youtube.txt
2025-06-21 22:06:27 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\80b44496-8069-4252-94ac-68eda86c8f3b.mp4
2025-06-21 22:06:27 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-21 22:06:27 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-21 22:06:27 - modules.downloader.filename_processor - INFO - ✅ 主文件重命名: 80b44496-8069-4252-94ac-68eda86c8f3b.mp4 -> Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4
2025-06-21 22:06:27 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-21 22:06:27 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: 80b44496-8069-4252-94ac-68eda86c8f3b - Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:06:27 - modules.telegram.notifier - INFO - 📤 准备发送文件: Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4 (11.2MB)
2025-06-21 22:06:27 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4 (11.2MB)
2025-06-21 22:06:27 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-21 22:06:28 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\c94b421a-5188-434a-b842-c023285410d0.mp4
2025-06-21 22:06:28 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-21 22:06:28 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-21 22:06:28 - modules.downloader.filename_processor - ERROR - ❌ 重命名文件失败 data\downloads\c94b421a-5188-434a-b842-c023285410d0.mp4: [WinError 183] 当文件已存在时，无法创建该文件。: 'data\\downloads\\c94b421a-5188-434a-b842-c023285410d0.mp4' -> 'data\\downloads\\Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4'
2025-06-21 22:06:28 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-21 22:06:28 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: c94b421a-5188-434a-b842-c023285410d0 - Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:06:28 - modules.telegram.notifier - INFO - 📤 准备发送文件: c94b421a-5188-434a-b842-c023285410d0.mp4 (11.2MB)
2025-06-21 22:06:28 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: c94b421a-5188-434a-b842-c023285410d0.mp4 (11.2MB)
2025-06-21 22:06:28 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-21 22:06:28 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\b220e890-063c-4d20-a682-77e48d9f8063.mp4
2025-06-21 22:06:28 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-21 22:06:28 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-21 22:06:28 - modules.downloader.filename_processor - ERROR - ❌ 重命名文件失败 data\downloads\b220e890-063c-4d20-a682-77e48d9f8063.mp4: [WinError 183] 当文件已存在时，无法创建该文件。: 'data\\downloads\\b220e890-063c-4d20-a682-77e48d9f8063.mp4' -> 'data\\downloads\\Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4'
2025-06-21 22:06:28 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-21 22:06:28 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: b220e890-063c-4d20-a682-77e48d9f8063 - Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:06:28 - modules.telegram.notifier - INFO - 📤 准备发送文件: b220e890-063c-4d20-a682-77e48d9f8063.mp4 (11.2MB)
2025-06-21 22:06:28 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: b220e890-063c-4d20-a682-77e48d9f8063.mp4 (11.2MB)
2025-06-21 22:06:28 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-21 22:06:39 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:06:39 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:06:39 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:06:50 - modules.files.routes - INFO - 🎥 流媒体播放: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4
2025-06-21 22:06:50 - modules.files.routes - INFO - 文件大小: 37065103 bytes (35.3MB), MIME类型: video/mp4, 大视频: False
2025-06-21 22:06:50 - modules.files.routes - INFO - 处理Range请求: bytes=0-
2025-06-21 22:06:50 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:06:50 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:06:50 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:06:53 - modules.files.routes - INFO - 🎥 流媒体播放: a6f6a57f-d573-47e1-8de9-ccf56339b9f7.mp4
2025-06-21 22:06:53 - modules.files.routes - INFO - 文件大小: 37065103 bytes (35.3MB), MIME类型: video/mp4, 大视频: False
2025-06-21 22:06:53 - modules.files.routes - INFO - 处理Range请求: bytes=1048576-
2025-06-21 22:07:01 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:01 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:02 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:02 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:07:02 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:07:03 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:07:05 - api.routes - INFO - 删除文件: c94b421a-5188-434a-b842-c023285410d0.mp4
2025-06-21 22:07:07 - api.routes - INFO - 删除文件: b220e890-063c-4d20-a682-77e48d9f8063.mp4
2025-06-21 22:07:13 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:13 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:14 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:24 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:24 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:25 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:36 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:36 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:36 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:37 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:07:37 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:07:37 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-21 22:07:48 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:48 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:48 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:59 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:59 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-21 22:07:59 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-21 22:07:59 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-21 22:07:59 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-21 22:07:59 - modules.telegram.uploaders.modern_hybrid - WARNING - ⚠️ Pyrofork 失败，尝试 Bot API 回退
2025-06-21 22:07:59 - modules.telegram.uploaders.modern_hybrid - WARNING - ⚠️ Pyrofork 失败，尝试 Bot API 回退
2025-06-21 22:07:59 - modules.telegram.uploaders.modern_hybrid - WARNING - ⚠️ Pyrofork 失败，尝试 Bot API 回退
2025-06-21 22:07:59 - modules.telegram.uploaders.bot_api - ERROR - ❌ 文件不存在: data\downloads\b220e890-063c-4d20-a682-77e48d9f8063.mp4
2025-06-21 22:07:59 - modules.telegram.uploaders.bot_api - ERROR - ❌ 文件不存在: data\downloads\c94b421a-5188-434a-b842-c023285410d0.mp4
2025-06-21 22:07:59 - modules.telegram.base - WARNING - ⚠️ 获取视频元数据失败: [WinError 2] 系统找不到指定的文件。
2025-06-21 22:07:59 - modules.telegram.uploaders.bot_api - INFO - 📤 使用Bot API发送video文件: Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4 (11.2MB)
2025-06-21 22:07:59 - modules.telegram.base - WARNING - ⚠️ 生成缩略图失败: [WinError 2] 系统找不到指定的文件。
2025-06-21 22:08:00 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:08:00 - modules.telegram.notifier - ERROR - ❌ 文件发送失败: b220e890-063c-4d20-a682-77e48d9f8063.mp4
2025-06-21 22:08:00 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 95 字符
2025-06-21 22:08:00 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:08:00 - modules.telegram.notifier - ERROR - ❌ 文件发送失败: c94b421a-5188-434a-b842-c023285410d0.mp4
2025-06-21 22:08:00 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 95 字符
2025-06-21 22:08:03 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:08:03 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 22:08:03 - modules.downloader.manager - INFO - 📡 发送下载完成事件: c94b421a-5188-434a-b842-c023285410d0
2025-06-21 22:08:03 - modules.downloader.manager - INFO - ✅ 下载完成: c94b421a-5188-434a-b842-c023285410d0 - Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:08:03 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:08:03 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 22:08:03 - modules.downloader.manager - INFO - 📡 发送下载完成事件: b220e890-063c-4d20-a682-77e48d9f8063
2025-06-21 22:08:03 - modules.downloader.manager - INFO - ✅ 下载完成: b220e890-063c-4d20-a682-77e48d9f8063 - Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:08:05 - modules.telegram.uploaders.bot_api - INFO - ✅ 视频发送成功
2025-06-21 22:08:05 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ 文件发送成功: Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4
2025-06-21 22:08:05 - modules.telegram.notifier - INFO - ✅ 文件发送成功: Rick_Astley_-_Never_Gonna_Give_You_Up_(Official_Video)_(4K_Remaster).mp4
2025-06-21 22:08:05 - modules.telegram.notifier - INFO - ✅ 文件自动发送成功: Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:08:05 - modules.downloader.manager - INFO - 📡 发送下载完成事件: 80b44496-8069-4252-94ac-68eda86c8f3b
2025-06-21 22:08:05 - modules.downloader.manager - INFO - ✅ 下载完成: 80b44496-8069-4252-94ac-68eda86c8f3b - Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster)
2025-06-21 22:09:11 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:09:11 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:09:11 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:09:11 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:09:11 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:09:11 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:09:11 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:09:11 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:09:11 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:09:11 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:09:11 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:09:11 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:09:11 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:09:11 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:09:11 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:09:11 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:09:11 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:09:11 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:09:11 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:09:12 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:09:12 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:09:12 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:09:12 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:09:12 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:09:12 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:09:12 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:09:12 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:09:12 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:09:12 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:09:12 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:09:12 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:09:12 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:09:12 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:09:12 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:09:12 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:09:12 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:09:12 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:09:12 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:09:12 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:09:12 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:09:12 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:09:12 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:09:12 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:09:12 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:09:12 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:09:12 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:09:12 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:09:12 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:09:12 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:09:12 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:09:12 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:09:12 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:09:12 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:09:12 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:09:12 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:09:12 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:09:12 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:09:12 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:09:12 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:09:12 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:09:12 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:09:12 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:09:12 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:09:12 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:09:12 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:10:35 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:10:53 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:10:53 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 22:11:07 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:11:14 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:11:22 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:12:27 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:12:38 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:14:27 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:14:44 - api.routes - INFO - 清空下载历史: 删除了 True 条记录
2025-06-21 22:18:04 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:18:04 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:18:04 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:18:04 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:18:04 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:18:04 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:18:04 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:18:04 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:18:04 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:18:04 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:18:04 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:18:04 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:18:04 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:18:04 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:18:04 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:18:04 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:18:04 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:18:04 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:18:04 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:18:05 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:18:05 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:18:05 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:18:05 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:18:05 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:18:05 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:18:05 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:18:05 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:18:05 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:18:05 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:18:05 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:18:05 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:18:05 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:18:05 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:18:05 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:18:05 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:18:05 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:18:05 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:18:05 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:18:05 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:18:05 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:18:05 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:18:05 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:18:05 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:18:05 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:18:05 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:18:05 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:18:05 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:18:05 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:18:05 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:18:05 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:18:05 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:18:05 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:18:05 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:18:05 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:18:05 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:18:05 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:18:05 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:18:05 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:18:05 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:18:05 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:18:05 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:18:05 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:18:05 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:18:05 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:18:05 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:18:14 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:18:18 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:18:18 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 22:18:28 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:18:28 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-21 22:18:28 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-21 22:18:28 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-21 22:18:28 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-21 22:18:28 - modules.downloader.manager - INFO - 🧹 发现 3 个遗留下载任务，正在清理...
2025-06-21 22:18:28 - modules.downloader.manager - INFO - ✅ 已清理 3 个遗留下载任务
2025-06-21 22:18:28 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-21 22:18:28 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-21 22:18:28 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-21 22:18:28 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 可用
2025-06-21 22:18:28 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-21 22:18:28 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-21 22:18:28 - api.routes - ERROR - ❌ 删除下载记录失败: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-06-21 22:18:28 - modules.downloader.cleanup - INFO - 🧹 清理完成: 删除 1 个文件，释放 11.2 MB 空间
2025-06-21 22:18:35 - api.routes - ERROR - ❌ 删除下载记录失败: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-06-21 22:18:37 - modules.downloader.api - INFO - ✅ 统一下载API初始化完成
2025-06-21 22:18:37 - modules.downloader.api - INFO - 📥 创建下载任务: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:18:37 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-21 22:18:37 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-21 22:18:37 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:18:37 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:18:37 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-21 22:18:37 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-21 22:18:37 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-21 22:18:37 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-21 22:18:37 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff
2025-06-21 22:18:37 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:18:37 - modules.downloader.manager - INFO - 🔄 开始执行下载: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:18:37 - modules.downloader.manager - INFO - 📥 创建下载任务: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff - https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:18:37 - modules.downloader.api - INFO - ✅ 下载任务创建成功: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff
2025-06-21 22:18:37 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-21 22:18:37 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-21 22:18:37 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:18:37 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:18:37 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://www.youtube.com/watch?v=dQw4w9WgXcQ
2025-06-21 22:18:37 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-21 22:18:37 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-21 22:18:37 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-21 22:18:37 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-21 22:18:39 - modules.downloader.manager - INFO - 🚫 取消下载: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff
2025-06-21 22:18:43 - api.routes - ERROR - ❌ 删除下载记录失败: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-06-21 22:18:51 - api.routes - ERROR - ❌ 删除下载记录失败: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-06-21 22:18:54 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 108.177.98.95:443, 2404:6800:4012:5::200a:443, 192.178.163.95:443, 2404:6800:4012:9::200a:443, 74.125.142.95:443, 2404:6800:4012:8::200a:443, 74.125.195.95:443, 173.194.203.95:443, 142.250.99.95:443, 74.125.199.95:443, 142.251.188.95:443, 142.250.107.95:443, 172.253.117.95:443, 74.125.20.95:443, 74.125.135.95:443, 173.194.202.95:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:18:54 - api.routes - ERROR - ❌ 删除下载记录失败: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-06-21 22:19:06 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: node:internal/deps/undici/undici:13510
      Error.captureStackTrace(err);
            ^

TypeError: fetch failed
    at node:internal/deps/undici/undici:13510:13
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583735
    at async C:\Users\zhumao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pytubefix\botGuard\vm\botGuard.js:1:2583583 {
  [cause]: ConnectTimeoutError: Connect Timeout Error (attempted addresses: 2404:6800:4012:6::200a:443, 108.177.98.95:443, 2404:6800:4012:5::200a:443, 192.178.163.95:443, 2404:6800:4012:9::200a:443, 74.125.142.95:443, 2404:6800:4012:8::200a:443, 74.125.195.95:443, 173.194.203.95:443, 142.250.99.95:443, 74.125.199.95:443, 142.251.188.95:443, 142.250.107.95:443, 172.253.117.95:443, 74.125.20.95:443, 74.125.135.95:443, 173.194.202.95:443, timeout: 10000ms)
      at onConnectTimeout (node:internal/deps/undici/undici:2602:28)
      at Immediate._onImmediate (node:internal/deps/undici/undici:2568:35)
      at process.processImmediate (node:internal/timers:485:21) {
    code: 'UND_ERR_CONNECT_TIMEOUT'
  }
}

Node.js v22.15.0
2025-06-21 22:19:06 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:19:06 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-21 22:19:08 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: Rick Astley - Never Gonna Give You Up (Official Video) (4K Remaster) (27个格式)
2025-06-21 22:19:08 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-21 22:19:08 - modules.downloader.manager - INFO - 🚫 下载已被取消（提取信息后）: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff
2025-06-21 22:19:53 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:19:53 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:19:53 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:19:53 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:19:53 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:19:53 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:19:53 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:19:53 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:19:53 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:19:53 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:19:53 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:19:53 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:19:53 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:19:53 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:19:53 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:19:53 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:19:53 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:19:53 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:19:53 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:19:53 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:19:53 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:19:53 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:19:53 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:19:53 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:19:53 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:19:53 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:19:53 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:19:53 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:19:53 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:19:53 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:19:53 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:19:53 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:19:53 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:19:53 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:19:53 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:19:53 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:19:53 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:19:53 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:19:53 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:19:53 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:19:53 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:19:53 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:19:53 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:19:53 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:19:53 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:19:53 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:19:53 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:19:53 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:19:53 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:19:53 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:19:53 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:19:53 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:19:53 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:19:53 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:19:53 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:19:53 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:20:04 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:20:06 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:20:06 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:20:08 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:20:08 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 22:20:15 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-21 22:20:15 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-21 22:20:15 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-21 22:20:16 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-21 22:20:16 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-21 22:20:16 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-21 22:20:16 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-21 22:20:16 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-21 22:20:16 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-21 22:20:17 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-21 22:20:17 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-21 22:20:17 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-21 22:20:18 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:20:18 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 22:20:18 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-21 22:20:22 - api.routes - INFO - 删除下载记录: c94b421a-5188-434a-b842-c023285410d0
2025-06-21 22:20:24 - api.routes - INFO - 删除下载记录: b220e890-063c-4d20-a682-77e48d9f8063
2025-06-21 22:20:28 - api.routes - INFO - 删除下载记录: 80b44496-8069-4252-94ac-68eda86c8f3b
2025-06-21 22:20:37 - api.routes - INFO - 删除下载记录: 1f8902f6-1fcf-4bc9-b1a7-44a2a313a1ff
2025-06-21 22:20:39 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-21 22:20:39 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-21 22:20:39 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-21 22:20:40 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-21 22:20:42 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-21 22:20:42 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-21 22:20:42 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-21 22:23:54 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:23:54 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:23:54 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:23:54 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:23:54 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:23:54 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:23:54 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:23:54 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:23:54 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:23:54 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:23:54 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:23:54 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:23:54 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:23:54 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:23:54 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:23:54 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:23:54 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:23:54 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:23:54 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:23:54 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:23:54 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:23:54 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:23:54 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:23:54 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:23:54 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:23:54 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:23:54 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:23:54 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:23:54 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:23:54 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:23:54 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:23:54 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:23:54 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:23:54 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:23:54 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:23:54 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:23:54 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:23:54 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:23:54 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:23:54 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:23:54 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:23:54 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:23:54 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:23:54 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:23:54 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:23:54 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:23:54 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:23:54 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:23:54 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:23:54 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:23:54 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:23:54 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:23:54 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:23:54 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:23:54 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:23:54 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:23:57 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:24:00 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:24:00 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-21 22:24:40 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-21 22:24:40 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-21 22:29:21 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-21 22:29:26 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-21 22:29:36 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-21 22:29:42 - modules.cookies.routes - INFO - 📖 访问YouTube认证获取指南页面
2025-06-21 22:37:19 - modules.cookies.manager - INFO - ✅ YouTube 认证配置保存成功
2025-06-21 22:37:38 - modules.cookies.manager - INFO - ✅ YouTube 认证配置保存成功
2025-06-21 22:42:07 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-21 22:42:07 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:42:07 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:42:07 - core.database - INFO - 📊 当前用户数量: 1
2025-06-21 22:42:07 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-21 22:42:07 - core.database - INFO - ✅ 数据库初始化完成
2025-06-21 22:42:07 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:42:07 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:42:07 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:42:07 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:42:07 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:42:07 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-21 22:42:07 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:42:07 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:42:07 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:42:07 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:42:07 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-21 22:42:07 - __main__ - INFO - 🔍 验证系统配置...
2025-06-21 22:42:07 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-21 22:42:07 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-21 22:42:07 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-21 22:42:07 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-21 22:42:07 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-21 22:42:07 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-21 22:42:07 - __main__ - INFO - 🔍 检测运行环境...
2025-06-21 22:42:07 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-21 22:42:07 - __main__ - INFO - 📋 环境信息: local
2025-06-21 22:42:07 - __main__ - INFO - 🐳 容器环境: False
2025-06-21 22:42:07 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-21 22:42:07 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-21 22:42:07 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-21 22:42:07 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-21 22:42:07 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-21 22:42:07 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-21 22:42:07 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:42:07 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:42:07 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-21 22:42:07 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-21 22:42:07 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-21 22:42:07 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-21 22:42:07 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-21 22:42:07 - core.app - INFO - 🔧 创建Flask应用...
2025-06-21 22:42:07 - core.app - INFO - ✅ Flask应用配置完成
2025-06-21 22:42:07 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-21 22:42:07 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-21 22:42:07 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-21 22:42:07 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-21 22:42:07 - core.app - INFO - ✅ 数据库初始化完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-21 22:42:07 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 蓝图注册完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-21 22:42:07 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-21 22:42:07 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-21 22:42:07 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-21 22:42:07 - core.app - INFO - ✅ Flask应用创建完成
2025-06-21 22:42:07 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-21 22:42:07 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-21 22:42:07 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-21 22:42:25 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-21 22:57:03 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-21 22:57:03 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 10:19:41 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 10:19:41 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:19:41 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:19:41 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 10:19:41 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 10:19:41 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 10:19:41 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:19:41 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:19:41 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:19:41 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:19:41 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:19:41 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:19:41 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:19:41 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 10:19:41 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:19:41 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:19:41 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:19:41 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:19:41 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:19:43 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:19:43 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:19:43 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 10:19:43 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 10:19:43 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 10:19:43 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 10:19:43 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 10:19:43 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 10:19:43 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 10:19:43 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 10:19:43 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 10:19:43 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 10:19:43 - __main__ - INFO - 📋 环境信息: local
2025-06-22 10:19:43 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 10:19:43 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 10:19:43 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 10:19:43 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 10:19:43 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 10:19:43 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 10:19:43 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 10:19:43 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:19:43 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:19:43 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 10:19:43 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 10:19:43 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:19:43 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:19:43 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 10:19:43 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:19:43 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:19:43 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:19:43 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:19:43 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:19:43 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:19:43 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:19:43 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:19:43 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:19:43 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:19:43 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:19:43 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:19:43 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:19:43 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:19:43 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:19:43 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:19:43 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 10:19:43 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 10:19:43 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 10:19:59 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:20:02 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 10:20:02 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 10:20:06 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:20:07 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 10:20:07 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 10:20:33 - modules.cookies.manager - INFO - ✅ YouTube 认证配置删除成功
2025-06-22 10:21:05 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 10:21:05 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:21:05 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:21:05 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 10:21:05 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 10:21:05 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 10:21:05 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:21:05 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:21:05 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:21:05 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:21:05 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:21:05 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:21:05 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:21:05 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 10:21:05 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:21:05 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:21:05 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:21:05 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:21:05 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:21:05 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:21:05 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:21:05 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 10:21:05 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 10:21:05 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 10:21:05 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 10:21:05 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 10:21:05 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 10:21:05 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 10:21:05 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 10:21:05 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 10:21:05 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 10:21:05 - __main__ - INFO - 📋 环境信息: local
2025-06-22 10:21:05 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 10:21:05 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 10:21:05 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 10:21:05 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 10:21:05 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 10:21:05 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 10:21:06 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 10:21:06 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:21:06 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:21:06 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 10:21:06 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 10:21:06 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:21:06 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:21:06 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 10:21:06 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:21:06 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:21:06 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:21:06 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:21:06 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:21:06 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:21:06 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:21:06 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:21:06 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:21:06 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:21:06 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:21:06 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:21:06 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:21:06 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:21:06 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:21:06 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:21:06 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 10:21:06 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 10:21:06 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 10:21:09 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:21:10 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 10:21:10 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 10:21:16 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:21:16 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 10:22:53 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 10:22:53 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:22:53 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:22:53 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 10:22:53 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 10:22:53 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 10:22:53 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:22:53 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:22:53 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:22:53 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:22:53 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:22:53 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 10:22:53 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:22:53 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:22:53 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:22:53 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:22:53 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 10:22:53 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 10:22:53 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 10:22:53 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 10:22:53 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 10:22:53 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 10:22:53 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 10:22:53 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 10:22:53 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 10:22:53 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 10:22:53 - __main__ - INFO - 📋 环境信息: local
2025-06-22 10:22:53 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 10:22:53 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 10:22:53 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 10:22:53 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 10:22:53 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 10:22:53 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 10:22:53 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 10:22:53 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:22:53 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:22:53 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 10:22:53 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 10:22:53 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:22:53 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:22:53 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 10:22:53 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:22:53 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:22:53 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:22:53 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:22:53 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:22:53 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:22:53 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:22:53 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:22:53 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:22:53 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:22:53 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:22:53 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:22:53 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 10:22:53 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 10:22:53 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 10:24:33 - core.auth - WARNING - ⚠️ JWT令牌无效: Not enough segments
2025-06-22 10:24:41 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:24:43 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 10:24:43 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 10:26:12 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 10:26:12 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:26:12 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:26:12 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 10:26:12 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 10:26:12 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 10:26:12 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:26:12 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:26:12 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:26:12 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:26:12 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:26:12 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:26:12 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:26:12 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 10:26:12 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:26:12 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:26:12 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:26:12 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:26:12 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:26:12 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:26:12 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:26:12 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 10:26:12 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 10:26:12 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 10:26:12 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 10:26:12 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 10:26:12 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 10:26:12 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 10:26:12 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 10:26:12 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 10:26:12 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 10:26:12 - __main__ - INFO - 📋 环境信息: local
2025-06-22 10:26:12 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 10:26:12 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 10:26:12 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 10:26:12 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 10:26:12 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 10:26:12 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 10:26:13 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 10:26:13 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:26:13 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:26:13 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 10:26:13 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 10:26:13 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:26:13 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:26:13 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 10:26:13 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:26:13 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:26:13 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:26:13 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:26:13 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:26:13 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:26:13 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:26:13 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:26:13 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:26:13 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:26:13 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:26:13 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:26:13 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:26:13 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:26:13 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:26:13 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:26:13 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 10:26:13 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 10:26:13 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 10:26:15 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:26:15 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:26:18 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 10:26:18 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 10:26:22 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:26:23 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 10:26:33 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:26:37 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:27:02 - core.auth - WARNING - ❌ 登录失败: admin - 凭据无效
2025-06-22 10:39:12 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:39:28 - modules.cookies.routes - INFO - 📖 访问YouTube认证获取指南页面
2025-06-22 10:45:20 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 10:45:20 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:45:20 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:45:20 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 10:45:20 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 10:45:20 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 10:45:20 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:45:20 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:45:20 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:45:20 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:45:20 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:45:20 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 10:45:20 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:45:20 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:45:20 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:45:20 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:45:20 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 10:45:20 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 10:45:20 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 10:45:20 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 10:45:20 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 10:45:20 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 10:45:20 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 10:45:20 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 10:45:20 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 10:45:20 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 10:45:20 - __main__ - INFO - 📋 环境信息: local
2025-06-22 10:45:20 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 10:45:20 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 10:45:20 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 10:45:20 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 10:45:20 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 10:45:20 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 10:45:20 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 10:45:20 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:45:20 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:45:20 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 10:45:20 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 10:45:20 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:45:20 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:45:20 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 10:45:20 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:45:20 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:45:20 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:45:20 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:45:20 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:45:20 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:45:20 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:45:20 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:45:20 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:45:20 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:45:20 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:45:20 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:45:20 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 10:45:20 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 10:45:20 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 10:45:46 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:45:52 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 10:45:52 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=2592000
2025-06-22 10:45:57 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:45:57 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 10:46:00 - modules.cookies.routes - INFO - 🤖 显示PO Token手动获取指南
2025-06-22 10:56:39 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 10:56:39 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:56:39 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:56:39 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 10:56:39 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 10:56:39 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 10:56:39 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:56:39 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:56:39 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:56:39 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:56:39 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:56:39 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:56:39 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:56:39 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 10:56:39 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:56:39 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:56:39 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:56:39 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:56:39 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:56:40 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:56:40 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:56:40 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 10:56:40 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 10:56:40 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 10:56:40 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 10:56:40 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 10:56:40 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 10:56:40 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 10:56:40 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 10:56:40 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 10:56:40 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 10:56:40 - __main__ - INFO - 📋 环境信息: local
2025-06-22 10:56:40 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 10:56:40 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 10:56:40 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 10:56:40 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 10:56:40 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 10:56:40 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 10:56:40 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 10:56:40 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:56:40 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:56:40 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 10:56:40 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 10:56:40 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 10:56:40 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 10:56:40 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 10:56:40 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 10:56:40 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 10:56:40 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 10:56:40 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 10:56:40 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 10:56:40 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 10:56:40 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 10:56:40 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 10:56:40 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 10:56:40 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 10:56:40 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 10:56:40 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 10:56:40 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 10:56:40 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 10:56:40 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 10:56:40 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 10:56:40 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 10:56:40 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 10:56:40 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 10:56:53 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 10:56:55 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 10:56:55 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 10:56:59 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:56:59 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 10:57:02 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:57:06 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 10:57:09 - modules.cookies.routes - INFO - 🤖 显示PO Token手动获取指南
2025-06-22 13:42:36 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 13:42:36 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 13:42:36 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 13:42:36 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 13:42:36 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 13:42:36 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 13:42:36 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 13:42:36 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 13:42:36 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 13:42:36 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 13:42:36 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 13:42:36 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 13:42:36 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 13:42:38 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 13:42:38 - __main__ - INFO - 📋 环境信息: local
2025-06-22 13:42:38 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 13:42:38 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 13:42:38 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 13:42:38 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 13:42:38 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 13:42:38 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 13:42:38 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 13:42:38 - modules.downloader.ffmpeg_config - INFO - ✅ 检测到FFmpeg路径: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 13:42:38 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 13:42:38 - modules.downloader.ffmpeg_config - INFO - ✅ 更新yt-dlp.conf文件: yt-dlp.conf
2025-06-22 13:42:38 - __main__ - INFO - ✅ FFmpeg配置已自动更新到yt-dlp.conf
2025-06-22 13:42:38 - modules.downloader.ffmpeg_config - INFO - ✅ 使用跨平台相对路径: ffmpeg/bin
2025-06-22 13:42:38 - __main__ - INFO - ✅ FFmpeg可用: ffmpeg version N-119884-gfb65ecbc9b-20250614 Copyright (c) 2000-2025 the FFmpeg developers @ D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin
2025-06-22 13:42:38 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 13:42:38 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 13:42:38 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 13:42:38 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 13:42:38 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 13:42:38 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 13:42:38 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 13:42:38 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 13:42:38 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 13:42:38 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 13:42:38 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 13:42:38 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 13:42:38 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 13:42:38 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 13:42:38 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 13:42:38 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 13:42:38 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 13:42:38 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 13:42:38 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 13:42:38 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 13:42:38 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 13:42:46 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 13:43:16 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 13:43:27 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 13:43:27 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 13:43:51 - modules.downloader.ffmpeg_tools - INFO - ✅ 找到项目FFmpeg: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\ffmpeg\bin\ffmpeg.exe
2025-06-22 13:43:51 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 13:43:51 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 13:43:51 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 13:43:51 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 13:43:51 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 13:43:51 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 13:43:51 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 13:43:51 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 可用
2025-06-22 13:43:51 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 13:43:51 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 13:43:57 - core.auth - INFO - ✅ 用户登出: admin
2025-06-22 13:43:58 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 13:43:58 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 13:44:05 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 13:44:05 - modules.cookies.manager - INFO - ✅ Cookies目录: D:\测试专用\yt-dlp-master\yt-dlp-web2\app\data\cookies
2025-06-22 13:44:08 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 13:44:41 - modules.cookies.manager - INFO - ✅ Cookies删除成功: youtube_oauth2
2025-06-22 13:45:25 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 13:45:25 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 13:45:25 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 13:45:25 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-22 13:45:25 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 13:45:25 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 13:45:25 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 13:45:25 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 13:45:25 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 68824086-19e3-4edb-a0f9-d78331ba0ca5
2025-06-22 13:45:25 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 13:45:25 - modules.downloader.manager - INFO - 🔄 开始执行下载: 68824086-19e3-4edb-a0f9-d78331ba0ca5 - https://youtu.be/voBxLJ6t2mk?si=cmb1k35kdih6aMNh
2025-06-22 13:45:25 - modules.downloader.manager - INFO - 📥 创建下载任务: 68824086-19e3-4edb-a0f9-d78331ba0ca5 - https://youtu.be/voBxLJ6t2mk?si=cmb1k35kdih6aMNh
2025-06-22 13:45:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 13:45:25 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 13:45:25 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-22 13:45:25 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.2.222:1190
2025-06-22 13:45:25 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://youtu.be/voBxLJ6t2mk?si=cmb1k35kdih6aMNh
2025-06-22 13:45:25 - core.po_token_manager - INFO - ✅ PyTubeFix-Extract 使用PyTubeFix自动PO Token生成 (Node.js)
2025-06-22 13:45:25 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-22 13:45:25 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-22 13:45:25 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - 本地环境，nodejs可用，使用WEB客户端
2025-06-22 13:45:46 - pytubefix.__main__ - WARNING - Unable to run botGuard. Skipping poToken generation, reason: Failed to execute botGuard.js: 
2025-06-22 13:45:46 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-22 13:45:46 - pytubefix.__main__ - WARNING - The WEB client requires PoToken to obtain functional streams, See more details at https://github.com/JuanBindez/pytubefix/pull/209
2025-06-22 13:45:47 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: SUPERMAN Official FINAL Trailer (2025) James Gunn, New Movie Trailers 4K (31个格式)
2025-06-22 13:45:47 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-22 13:45:47 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-22 13:45:47 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-22 13:45:47 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.2.222:1186
2025-06-22 13:45:47 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: D:\app\data\cookies\youtube.txt
2025-06-22 13:45:55 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\68824086-19e3-4edb-a0f9-d78331ba0ca5.mp4
2025-06-22 13:45:55 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-22 13:45:55 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-22 13:45:55 - modules.downloader.filename_processor - INFO - ✅ 主文件重命名: 68824086-19e3-4edb-a0f9-d78331ba0ca5.mp4 -> SUPERMAN_Official_FINAL_Trailer_(2025)_James_Gunn,_New_Movie_Trailers_4K.mp4
2025-06-22 13:45:55 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-22 13:45:55 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: 68824086-19e3-4edb-a0f9-d78331ba0ca5 - SUPERMAN Official FINAL Trailer (2025) James Gunn, New Movie Trailers 4K
2025-06-22 13:45:55 - modules.telegram.notifier - INFO - 📤 准备发送文件: SUPERMAN_Official_FINAL_Trailer_(2025)_James_Gunn,_New_Movie_Trailers_4K.mp4 (9.8MB)
2025-06-22 13:45:55 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: SUPERMAN_Official_FINAL_Trailer_(2025)_James_Gunn,_New_Movie_Trailers_4K.mp4 (9.8MB)
2025-06-22 13:45:55 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-22 13:46:21 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动失败: cannot schedule new futures after interpreter shutdown
2025-06-22 13:46:21 - modules.telegram.uploaders.modern_hybrid - WARNING - ⚠️ Pyrofork 失败，尝试 Bot API 回退
2025-06-22 13:46:22 - modules.telegram.base - WARNING - ⚠️ 获取视频元数据失败: [WinError 2] 系统找不到指定的文件。
2025-06-22 13:46:22 - modules.telegram.uploaders.bot_api - INFO - 📤 使用Bot API发送video文件: SUPERMAN_Official_FINAL_Trailer_(2025)_James_Gunn,_New_Movie_Trailers_4K.mp4 (9.8MB)
2025-06-22 13:46:22 - modules.telegram.base - WARNING - ⚠️ 生成缩略图失败: [WinError 2] 系统找不到指定的文件。
2025-06-22 13:46:28 - modules.telegram.uploaders.bot_api - INFO - ✅ 视频发送成功
2025-06-22 13:46:28 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ 文件发送成功: SUPERMAN_Official_FINAL_Trailer_(2025)_James_Gunn,_New_Movie_Trailers_4K.mp4
2025-06-22 13:46:28 - modules.telegram.notifier - INFO - ✅ 文件发送成功: SUPERMAN_Official_FINAL_Trailer_(2025)_James_Gunn,_New_Movie_Trailers_4K.mp4
2025-06-22 13:46:28 - modules.telegram.notifier - INFO - ✅ 文件自动发送成功: SUPERMAN Official FINAL Trailer (2025) James Gunn, New Movie Trailers 4K
2025-06-22 13:46:28 - modules.downloader.manager - INFO - 📡 发送下载完成事件: 68824086-19e3-4edb-a0f9-d78331ba0ca5
2025-06-22 13:46:28 - modules.downloader.manager - INFO - ✅ 下载完成: 68824086-19e3-4edb-a0f9-d78331ba0ca5 - SUPERMAN Official FINAL Trailer (2025) James Gunn, New Movie Trailers 4K
2025-06-22 20:58:14 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 20:58:14 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 20:58:14 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 20:58:14 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 20:58:14 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 20:58:14 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 20:58:14 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 20:58:14 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 20:58:14 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 20:58:14 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 20:58:14 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 20:58:14 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 20:58:14 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 20:58:14 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 20:58:14 - __main__ - INFO - 📋 环境信息: local
2025-06-22 20:58:14 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 20:58:14 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 20:58:14 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 20:58:14 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 20:58:14 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 20:58:14 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 20:58:14 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 20:58:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 20:58:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 20:58:14 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 20:58:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 20:58:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 20:58:14 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 20:58:14 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 20:58:14 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 20:58:14 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 20:58:14 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 20:58:14 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 20:58:14 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 20:58:14 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 20:58:14 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 20:58:14 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 20:58:14 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 20:58:14 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 20:58:14 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 20:58:14 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 20:58:14 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 20:58:14 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 20:58:14 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 20:58:14 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 20:58:14 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 20:58:14 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 20:58:14 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 20:58:14 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 20:58:27 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 20:58:28 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 20:58:28 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 20:58:29 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 20:58:29 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 20:58:29 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 20:58:29 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 20:58:29 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 20:58:29 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 20:58:29 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 20:58:29 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 20:58:29 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 20:58:29 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 20:58:29 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 20:58:29 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 20:58:29 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 20:58:40 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:00:16 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:00:16 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:00:16 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:00:16 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.2.222:1190
2025-06-22 21:00:16 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:00:16 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:00:16 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:00:16 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:00:16 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9
2025-06-22 21:00:16 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:16 - modules.downloader.manager - INFO - 🔄 开始执行下载: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:00:16 - modules.downloader.manager - INFO - 📥 创建下载任务: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:00:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:16 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:00:16 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:00:16 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:00:16 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:00:16 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:16 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:17 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:17 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:17 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:17 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9
2025-06-22 21:00:17 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:00:17 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9, 延迟 2 秒
2025-06-22 21:00:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:19 - modules.downloader.manager - INFO - 🔄 开始执行下载: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:00:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:19 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:00:19 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:00:19 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:00:19 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:00:19 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:19 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:19 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:19 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:19 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:19 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9
2025-06-22 21:00:19 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:00:19 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9, 延迟 4 秒
2025-06-22 21:00:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:23 - modules.downloader.manager - INFO - 🔄 开始执行下载: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:00:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:23 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:00:23 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:00:23 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:00:23 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:00:23 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:23 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:23 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:23 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:23 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:23 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9
2025-06-22 21:00:23 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:00:23 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9, 延迟 8 秒
2025-06-22 21:00:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:31 - modules.downloader.manager - INFO - 🔄 开始执行下载: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:00:31 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:00:31 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:00:31 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:00:31 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:00:31 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:00:31 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:31 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.2.222:1186
2025-06-22 21:00:31 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:31 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:31 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:31 - modules.downloader.retry_manager - INFO - 🚫 已达到最大重试次数: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9
2025-06-22 21:00:31 - modules.telegram.notifier - INFO - 📡 收到下载失败事件: 
2025-06-22 21:00:31 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 182 字符
2025-06-22 21:00:52 - modules.telegram.uploaders.bot_api - ERROR - ❌ Bot API消息发送异常: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw/sendMessage (Caused by ProxyError('Unable to connect to proxy', ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000267EBDF5940>, 'Connection to 192.168.2.222 timed out. (connect timeout=30)')))
2025-06-22 21:00:52 - modules.telegram.notifier - ERROR - ❌ 消息发送失败
2025-06-22 21:00:52 - modules.downloader.manager - ERROR - ❌ 下载最终失败: 3c90c3bd-0acb-4607-aeb0-5cfdc584e4f9 - 所有提取器都失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:00:55 - api.routes - INFO - 🔍 收到代理测试请求: {'proxy_type': 'socks5', 'host': '192.168.3.114', 'port': 1186, 'username': '', 'password': ''}
2025-06-22 21:00:55 - core.proxy_converter - INFO - 🔗 测试代理: socks5://192.168.3.114:1186
2025-06-22 21:00:56 - api.routes - INFO - ✅ 代理设置保存成功: enabled=True
2025-06-22 21:00:56 - core.proxy_converter - INFO - ✅ 代理测试成功: IP=104.28.206.119, 响应时间=468ms
2025-06-22 21:00:57 - api.routes - INFO - 🔍 收到代理测试请求: {'proxy_type': 'socks5', 'host': '192.168.3.114', 'port': 1186, 'username': '', 'password': ''}
2025-06-22 21:00:57 - core.proxy_converter - INFO - 🔗 测试代理: socks5://192.168.3.114:1186
2025-06-22 21:00:57 - core.proxy_converter - INFO - ✅ 代理测试成功: IP=104.28.206.119, 响应时间=484ms
2025-06-22 21:00:58 - api.routes - INFO - 🔍 收到代理测试请求: {'proxy_type': 'socks5', 'host': '192.168.3.114', 'port': 1186, 'username': '', 'password': ''}
2025-06-22 21:00:58 - core.proxy_converter - INFO - 🔗 测试代理: socks5://192.168.3.114:1186
2025-06-22 21:00:59 - api.routes - INFO - ✅ 代理设置保存成功: enabled=True
2025-06-22 21:00:59 - core.proxy_converter - INFO - ✅ 代理测试成功: IP=104.28.206.119, 响应时间=482ms
2025-06-22 21:01:00 - api.routes - INFO - ✅ 代理设置保存成功: enabled=True
2025-06-22 21:01:15 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 2e0d80ce-6516-4c56-b852-a02f30cb745c
2025-06-22 21:01:15 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:15 - modules.downloader.manager - INFO - 📥 创建下载任务: 2e0d80ce-6516-4c56-b852-a02f30cb745c - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:01:15 - modules.downloader.manager - INFO - 🔄 开始执行下载: 2e0d80ce-6516-4c56-b852-a02f30cb745c - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:01:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:15 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:01:15 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:01:15 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:01:15 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:01:15 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:15 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:15 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:15 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:15 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:15 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 2e0d80ce-6516-4c56-b852-a02f30cb745c
2025-06-22 21:01:15 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:01:15 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 2e0d80ce-6516-4c56-b852-a02f30cb745c, 延迟 2 秒
2025-06-22 21:01:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:17 - modules.downloader.manager - INFO - 🔄 开始执行下载: 2e0d80ce-6516-4c56-b852-a02f30cb745c - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:01:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:17 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:01:17 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:01:17 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:01:17 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:01:17 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:17 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:17 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:17 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:17 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:17 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 2e0d80ce-6516-4c56-b852-a02f30cb745c
2025-06-22 21:01:17 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:01:17 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 2e0d80ce-6516-4c56-b852-a02f30cb745c, 延迟 4 秒
2025-06-22 21:01:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:21 - modules.downloader.manager - INFO - 🔄 开始执行下载: 2e0d80ce-6516-4c56-b852-a02f30cb745c - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:01:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:21 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:01:21 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:01:21 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:01:21 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:01:21 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:21 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:21 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:21 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:21 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:21 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): 2e0d80ce-6516-4c56-b852-a02f30cb745c
2025-06-22 21:01:21 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:01:21 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 2e0d80ce-6516-4c56-b852-a02f30cb745c, 延迟 8 秒
2025-06-22 21:01:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:29 - modules.downloader.manager - INFO - 🔄 开始执行下载: 2e0d80ce-6516-4c56-b852-a02f30cb745c - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:01:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:01:29 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:01:29 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:01:29 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:01:29 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:01:29 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:29 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:01:29 - modules.downloader.video_extractor - ERROR - ❌ yt-dlp提取失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:29 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 ytdlp: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:29 - modules.downloader.video_extractor - ERROR - ❌ 所有提取器都失败，最后错误: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:01:29 - modules.downloader.retry_manager - INFO - 🚫 已达到最大重试次数: 2e0d80ce-6516-4c56-b852-a02f30cb745c
2025-06-22 21:01:29 - modules.telegram.notifier - INFO - 📡 收到下载失败事件: 
2025-06-22 21:01:29 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 182 字符
2025-06-22 21:01:50 - modules.telegram.uploaders.bot_api - ERROR - ❌ Bot API消息发送异常: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw/sendMessage (Caused by ProxyError('Unable to connect to proxy', ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000267EC1C4A50>, 'Connection to 192.168.2.222 timed out. (connect timeout=30)')))
2025-06-22 21:01:50 - modules.telegram.notifier - ERROR - ❌ 消息发送失败
2025-06-22 21:01:50 - modules.downloader.manager - ERROR - ❌ 下载最终失败: 2e0d80ce-6516-4c56-b852-a02f30cb745c - 所有提取器都失败: apply_po_token_to_ytdlp() takes from 1 to 2 positional arguments but 3 were given
2025-06-22 21:04:01 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:04:01 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:04:01 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:04:01 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:04:01 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:04:01 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:04:01 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:04:01 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:04:01 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:04:01 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:04:01 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:04:01 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:04:01 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:04:02 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:04:02 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:04:02 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:04:02 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:04:02 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:04:02 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:04:02 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:04:02 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:04:02 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:04:02 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:04:02 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:04:02 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:04:02 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:04:02 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:04:02 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:04:02 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:04:02 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:04:02 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:04:02 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:04:02 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:04:02 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:04:02 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:04:02 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:04:02 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:04:02 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:04:02 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:04:02 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:04:02 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:04:02 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:04:02 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:04:02 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:04:02 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:04:02 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:04:02 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:04:02 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:04:02 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:04:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:04:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:18:46 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:18:46 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:18:46 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:18:46 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:18:46 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:18:46 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:18:46 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:18:46 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:18:46 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:18:46 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:18:46 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:18:46 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:18:46 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:18:46 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:18:46 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:18:46 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:18:46 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:18:46 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:18:46 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:18:46 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:18:46 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:18:46 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:18:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:18:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:18:46 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:18:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:18:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:18:46 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:18:46 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:18:46 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:18:46 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:18:46 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:18:46 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:18:46 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:18:46 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:18:46 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:18:46 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:18:46 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:18:46 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:18:46 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:18:46 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:18:46 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:18:46 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:18:46 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:18:46 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:18:46 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:18:46 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:18:46 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:18:46 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:22:38 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:22:38 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:22:38 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:22:38 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:22:38 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:22:38 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:22:38 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:22:38 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:22:38 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:22:38 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:22:38 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:22:38 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:22:38 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:22:39 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:22:39 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:22:39 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:22:39 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:22:39 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:22:39 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:22:39 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:22:39 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:22:39 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:22:39 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:22:39 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:22:39 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:22:39 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:22:39 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:22:39 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:22:39 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:22:39 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:22:39 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:22:39 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:22:39 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:22:39 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:22:39 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:22:39 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:22:39 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:22:39 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:22:39 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:22:39 - core.app - WARNING - ⚠️ Telegram模块导入失败: No module named 'modules.telegram.services.command_service'
2025-06-22 21:22:39 - core.app - WARNING - ⚠️ Telegram模块导入失败: No module named 'modules.telegram.services.command_service'
2025-06-22 21:22:39 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:22:39 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:22:39 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:22:39 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:22:39 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:22:39 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:22:39 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:22:39 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:22:39 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:26:00 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:26:00 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:26:00 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:26:00 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:26:00 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:26:00 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:26:00 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:26:00 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:26:00 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:26:00 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:26:00 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:26:00 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:26:00 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:26:00 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:26:00 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:26:00 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:26:00 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:26:00 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:26:00 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:26:00 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:26:00 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:26:00 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:26:00 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:26:00 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:26:00 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:26:00 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:26:00 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:26:00 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:26:00 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:26:00 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:26:00 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:26:00 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:26:00 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:26:00 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:26:00 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:26:00 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:26:00 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:26:00 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:26:00 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:26:00 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:26:00 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:26:00 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:26:00 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:26:00 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:26:00 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:26:00 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:26:00 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:26:00 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:26:00 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:26:44 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:26:44 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:26:45 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:26:45 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:26:45 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:26:45 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:26:45 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:26:45 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:26:45 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:26:45 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:26:45 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:26:45 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:26:45 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:26:48 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:26:48 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:26:48 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:26:48 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:26:48 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:26:48 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:26:48 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:26:48 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:26:48 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 7a7a4001-fe97-40be-b129-740478708495
2025-06-22 21:26:48 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:26:48 - modules.downloader.manager - INFO - 🔄 开始执行下载: 7a7a4001-fe97-40be-b129-740478708495 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:26:48 - modules.downloader.manager - INFO - 📥 创建下载任务: 7a7a4001-fe97-40be-b129-740478708495 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:26:48 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:26:48 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:26:48 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:26:48 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:26:48 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:26:48 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:48 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:48 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:26:50 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:26:50 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:51 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:26:51 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 7a7a4001-fe97-40be-b129-740478708495
2025-06-22 21:26:51 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:26:51 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 7a7a4001-fe97-40be-b129-740478708495, 延迟 2 秒
2025-06-22 21:26:51 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:26:53 - modules.downloader.manager - INFO - 🔄 开始执行下载: 7a7a4001-fe97-40be-b129-740478708495 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:26:53 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:26:53 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:26:53 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:26:53 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:26:53 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:26:53 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:53 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:54 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:26:54 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:55 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:26:55 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 7a7a4001-fe97-40be-b129-740478708495
2025-06-22 21:26:55 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:26:55 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 7a7a4001-fe97-40be-b129-740478708495, 延迟 4 秒
2025-06-22 21:26:55 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:26:59 - modules.downloader.manager - INFO - 🔄 开始执行下载: 7a7a4001-fe97-40be-b129-740478708495 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:26:59 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:26:59 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:26:59 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:26:59 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:26:59 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:26:59 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:26:59 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:27:00 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:27:00 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:27:01 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:27:01 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): 7a7a4001-fe97-40be-b129-740478708495
2025-06-22 21:27:01 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:27:01 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 7a7a4001-fe97-40be-b129-740478708495, 延迟 8 秒
2025-06-22 21:27:01 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:27:09 - modules.downloader.manager - INFO - 🔄 开始执行下载: 7a7a4001-fe97-40be-b129-740478708495 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:27:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:27:09 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:27:09 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:27:09 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:27:09 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:27:09 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:27:09 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:27:11 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:27:11 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:27:12 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:27:12 - modules.downloader.retry_manager - INFO - 🚫 已达到最大重试次数: 7a7a4001-fe97-40be-b129-740478708495
2025-06-22 21:27:12 - modules.telegram.notifier - INFO - 📡 收到下载失败事件: 
2025-06-22 21:27:12 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 98 字符
2025-06-22 21:27:14 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 21:27:14 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 21:27:14 - modules.downloader.manager - ERROR - ❌ 下载最终失败: 7a7a4001-fe97-40be-b129-740478708495 - 下载文件不存在
2025-06-22 21:29:52 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:29:52 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:29:52 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:29:52 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:29:52 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:29:52 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:29:52 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:29:52 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:29:52 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:29:52 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:29:52 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:29:52 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:29:52 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:29:52 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:29:52 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:29:52 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:29:52 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:29:52 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:29:52 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:29:52 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:29:52 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:29:52 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:29:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:29:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:29:52 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:29:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:29:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:29:52 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:29:52 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:29:52 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:29:52 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:29:52 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:29:52 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:29:52 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:29:52 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:29:52 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:29:52 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:29:52 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:29:52 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:29:52 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:29:52 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:29:52 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:29:52 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:29:52 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:29:52 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:29:52 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:29:52 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:29:52 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:29:52 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:30:14 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:30:14 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:30:14 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:30:14 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:30:14 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:30:14 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:30:14 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:30:14 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:30:14 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:30:14 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:30:14 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:30:14 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:30:14 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:30:14 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:30:14 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:30:14 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:30:14 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:30:14 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:30:14 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:30:14 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:30:14 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:30:14 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:30:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:30:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:30:14 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:30:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:30:14 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:30:14 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:30:14 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:30:14 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:30:14 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:30:14 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:30:14 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:30:14 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:30:14 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:30:14 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:30:14 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:30:14 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:30:14 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:30:14 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:30:14 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:30:14 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:30:14 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:30:14 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:30:14 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:30:14 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:30:14 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:30:14 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:30:14 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:30:22 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:30:22 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:30:26 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:30:26 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:30:27 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:30:27 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:30:27 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:30:27 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:30:27 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:30:27 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:30:27 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:30:27 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:30:27 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:30:27 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:30:27 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:30:30 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:30:30 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:30:30 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:30:30 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:30:30 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:30:30 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:30:30 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:30:30 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:30:30 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 0897ecaf-a753-4c3e-af7e-824ea2cf3343
2025-06-22 21:30:30 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:30 - modules.downloader.manager - INFO - 🔄 开始执行下载: 0897ecaf-a753-4c3e-af7e-824ea2cf3343 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:30:30 - modules.downloader.manager - INFO - 📥 创建下载任务: 0897ecaf-a753-4c3e-af7e-824ea2cf3343 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:30:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:30 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:30:30 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:30:30 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:30:30 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:30:30 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:30 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:30 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:30:31 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:30:31 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:32 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:30:32 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 0897ecaf-a753-4c3e-af7e-824ea2cf3343
2025-06-22 21:30:32 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:30:32 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 0897ecaf-a753-4c3e-af7e-824ea2cf3343, 延迟 2 秒
2025-06-22 21:30:32 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:34 - modules.downloader.manager - INFO - 🔄 开始执行下载: 0897ecaf-a753-4c3e-af7e-824ea2cf3343 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:30:34 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:34 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:30:34 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:30:34 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:30:34 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:30:34 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:34 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:36 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:30:36 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:37 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:30:37 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 0897ecaf-a753-4c3e-af7e-824ea2cf3343
2025-06-22 21:30:37 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:30:37 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 0897ecaf-a753-4c3e-af7e-824ea2cf3343, 延迟 4 秒
2025-06-22 21:30:37 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:41 - modules.downloader.manager - INFO - 🔄 开始执行下载: 0897ecaf-a753-4c3e-af7e-824ea2cf3343 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:30:41 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:41 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:30:41 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:30:41 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:30:41 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:30:41 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:41 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:42 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:30:42 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:43 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:30:43 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): 0897ecaf-a753-4c3e-af7e-824ea2cf3343
2025-06-22 21:30:43 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:30:43 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 0897ecaf-a753-4c3e-af7e-824ea2cf3343, 延迟 8 秒
2025-06-22 21:30:43 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:51 - modules.downloader.manager - INFO - 🔄 开始执行下载: 0897ecaf-a753-4c3e-af7e-824ea2cf3343 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:30:51 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:30:51 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:30:51 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:30:51 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:30:51 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:30:51 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:51 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:53 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:30:53 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:30:54 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:30:54 - modules.downloader.retry_manager - INFO - 🚫 已达到最大重试次数: 0897ecaf-a753-4c3e-af7e-824ea2cf3343
2025-06-22 21:30:54 - modules.telegram.notifier - INFO - 📡 收到下载失败事件: 
2025-06-22 21:30:54 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 98 字符
2025-06-22 21:30:56 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 21:30:56 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 21:30:56 - modules.downloader.manager - ERROR - ❌ 下载最终失败: 0897ecaf-a753-4c3e-af7e-824ea2cf3343 - 下载文件不存在
2025-06-22 21:33:16 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:33:16 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:33:16 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:33:16 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:33:16 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:33:16 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:33:16 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:33:16 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:33:16 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:33:16 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:33:16 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:33:16 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:33:16 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:33:16 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:33:16 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:33:16 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:33:16 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:33:16 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:33:16 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:33:16 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:33:16 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:33:16 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:33:16 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:33:16 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:33:16 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:33:16 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:33:16 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:33:16 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:33:16 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:33:16 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:33:16 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:33:16 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:33:16 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:33:16 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:33:16 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:33:16 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:33:16 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:33:16 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:33:16 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:33:16 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:33:16 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:33:16 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:33:16 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:33:16 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:33:16 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:33:16 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:33:16 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:33:16 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:33:16 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:34:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:34:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:36:03 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:36:03 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:36:03 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:36:03 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:36:03 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:36:03 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:36:03 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:36:03 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:36:03 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:36:03 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:36:03 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:36:03 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:36:03 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:36:03 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:36:03 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:36:03 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:36:03 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:36:03 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:36:03 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:36:03 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:36:03 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:36:03 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:36:03 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:36:03 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:36:03 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:36:03 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:36:03 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:36:03 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:36:03 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:36:03 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:36:03 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:36:03 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:36:03 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:36:03 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:36:03 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:36:03 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:36:03 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:36:03 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:36:03 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:36:03 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:36:03 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:36:03 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:36:03 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:36:03 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:36:03 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:36:03 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:36:03 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:36:03 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:36:03 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:36:08 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:36:08 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:36:09 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:36:09 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:36:09 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:36:09 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:36:09 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:36:09 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:36:09 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:36:09 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:36:09 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:36:09 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:36:09 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:36:14 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:36:14 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:36:14 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:36:14 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:36:14 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:36:14 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:36:14 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:36:14 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:36:14 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 82c6efdc-f440-48ef-8de0-d1291065018b
2025-06-22 21:36:14 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:14 - modules.downloader.manager - INFO - 🔄 开始执行下载: 82c6efdc-f440-48ef-8de0-d1291065018b - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:36:14 - modules.downloader.manager - INFO - 📥 创建下载任务: 82c6efdc-f440-48ef-8de0-d1291065018b - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:36:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:14 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:36:14 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:36:14 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:36:14 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:36:14 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:14 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:14 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:36:16 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:36:16 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:17 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:36:17 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 82c6efdc-f440-48ef-8de0-d1291065018b
2025-06-22 21:36:17 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:36:17 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 82c6efdc-f440-48ef-8de0-d1291065018b, 延迟 2 秒
2025-06-22 21:36:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:19 - modules.downloader.manager - INFO - 🔄 开始执行下载: 82c6efdc-f440-48ef-8de0-d1291065018b - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:36:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:19 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:36:19 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:36:19 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:36:19 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:36:19 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:19 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:20 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:36:20 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:22 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:36:22 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 82c6efdc-f440-48ef-8de0-d1291065018b
2025-06-22 21:36:22 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:36:22 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 82c6efdc-f440-48ef-8de0-d1291065018b, 延迟 4 秒
2025-06-22 21:36:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:26 - modules.downloader.manager - INFO - 🔄 开始执行下载: 82c6efdc-f440-48ef-8de0-d1291065018b - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:36:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:26 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:36:26 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:36:26 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:36:26 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:36:26 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:26 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:28 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:36:28 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:29 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:36:29 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): 82c6efdc-f440-48ef-8de0-d1291065018b
2025-06-22 21:36:29 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:36:29 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 82c6efdc-f440-48ef-8de0-d1291065018b, 延迟 8 秒
2025-06-22 21:36:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:37 - modules.downloader.manager - INFO - 🔄 开始执行下载: 82c6efdc-f440-48ef-8de0-d1291065018b - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:36:37 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:36:37 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:36:37 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:36:37 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:36:37 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:36:37 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:37 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:38 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:36:38 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:36:39 - modules.downloader.manager - ERROR - ❌ yt-dlp下载失败: [0;31mERROR:[0m [generic] video: Requested format is not available. Use --list-formats for a list of available formats
2025-06-22 21:36:39 - modules.downloader.retry_manager - INFO - 🚫 已达到最大重试次数: 82c6efdc-f440-48ef-8de0-d1291065018b
2025-06-22 21:36:39 - modules.telegram.notifier - INFO - 📡 收到下载失败事件: 
2025-06-22 21:36:39 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 98 字符
2025-06-22 21:36:41 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 21:36:41 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 21:36:41 - modules.downloader.manager - ERROR - ❌ 下载最终失败: 82c6efdc-f440-48ef-8de0-d1291065018b - 下载文件不存在
2025-06-22 21:37:46 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:37:46 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:37:46 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:37:46 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:37:46 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:37:46 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:37:46 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:37:46 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:37:46 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:37:46 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:37:46 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:37:46 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:37:46 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:37:46 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:37:46 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:37:46 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:37:46 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:37:46 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:37:46 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:37:46 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:37:46 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:37:46 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:37:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:37:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:37:46 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:37:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:37:46 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:37:46 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:37:46 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:37:46 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:37:46 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:37:46 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:37:46 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:37:46 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:37:46 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:37:46 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:37:46 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:37:46 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:37:46 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:37:46 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:37:46 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:37:46 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:37:46 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:37:46 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:37:46 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:37:46 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:37:46 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:37:46 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:37:46 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:38:05 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:38:05 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:38:05 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:38:05 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:38:05 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:38:05 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:38:05 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:38:05 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:38:05 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:38:05 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:38:05 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:38:05 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:38:05 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:38:05 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:38:05 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:38:05 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:38:05 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:38:05 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:38:05 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:38:05 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:38:05 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:38:05 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:38:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:38:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:38:05 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:38:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:38:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:38:05 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:38:05 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:38:05 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:38:05 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:38:05 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:38:05 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:38:05 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:38:05 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:38:05 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:38:05 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:38:05 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:38:05 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:38:05 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:38:05 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:38:05 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:38:05 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:38:05 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:38:05 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:38:05 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:38:05 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:38:05 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:38:05 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:38:05 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:38:05 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:38:14 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:38:14 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:38:16 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:38:16 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:38:16 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:38:16 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:38:16 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:38:16 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:38:16 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:38:16 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:38:16 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:38:16 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:38:16 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:38:18 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:38:18 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:38:18 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:38:18 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:38:18 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:38:18 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:38:18 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:38:18 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:38:18 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: e2a5941a-86bf-4b59-bab4-46e3ce131f35
2025-06-22 21:38:18 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:18 - modules.downloader.manager - INFO - 🔄 开始执行下载: e2a5941a-86bf-4b59-bab4-46e3ce131f35 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:38:18 - modules.downloader.manager - INFO - 📥 创建下载任务: e2a5941a-86bf-4b59-bab4-46e3ce131f35 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:38:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:18 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:38:18 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:38:18 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:38:18 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:38:18 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:18 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:18 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:38:20 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:38:20 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:38:20 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): e2a5941a-86bf-4b59-bab4-46e3ce131f35
2025-06-22 21:38:20 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:38:20 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: e2a5941a-86bf-4b59-bab4-46e3ce131f35, 延迟 2 秒
2025-06-22 21:38:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:22 - modules.downloader.manager - INFO - 🔄 开始执行下载: e2a5941a-86bf-4b59-bab4-46e3ce131f35 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:38:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:22 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:38:22 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:38:22 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:38:22 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:38:22 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:22 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:23 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:38:23 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:38:23 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): e2a5941a-86bf-4b59-bab4-46e3ce131f35
2025-06-22 21:38:23 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:38:23 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: e2a5941a-86bf-4b59-bab4-46e3ce131f35, 延迟 4 秒
2025-06-22 21:38:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:27 - modules.downloader.manager - INFO - 🔄 开始执行下载: e2a5941a-86bf-4b59-bab4-46e3ce131f35 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:38:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:27 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:38:27 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:38:27 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:38:27 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:38:27 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:27 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:28 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:38:28 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:38:28 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): e2a5941a-86bf-4b59-bab4-46e3ce131f35
2025-06-22 21:38:28 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:38:28 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: e2a5941a-86bf-4b59-bab4-46e3ce131f35, 延迟 8 秒
2025-06-22 21:38:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:36 - modules.downloader.manager - INFO - 🔄 开始执行下载: e2a5941a-86bf-4b59-bab4-46e3ce131f35 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:38:36 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:38:36 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:38:36 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:38:36 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:38:36 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:38:36 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:36 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:38:38 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:38:38 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:38:38 - modules.downloader.retry_manager - INFO - 🚫 已达到最大重试次数: e2a5941a-86bf-4b59-bab4-46e3ce131f35
2025-06-22 21:38:38 - modules.telegram.notifier - INFO - 📡 收到下载失败事件: 
2025-06-22 21:38:38 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 98 字符
2025-06-22 21:38:40 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 21:38:40 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 21:38:40 - modules.downloader.manager - ERROR - ❌ 下载最终失败: e2a5941a-86bf-4b59-bab4-46e3ce131f35 - 下载文件不存在
2025-06-22 21:40:06 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:40:06 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:40:06 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:40:06 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:40:06 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:40:06 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:40:06 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:40:06 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:40:06 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:40:06 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:40:06 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:40:06 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:40:06 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:40:06 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:40:06 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:40:06 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:40:06 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:40:06 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:40:06 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:40:06 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:40:06 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:40:06 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:40:06 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:40:06 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:40:06 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:40:06 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:40:06 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:40:06 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:40:06 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:40:06 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:40:06 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:40:06 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:40:06 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:40:06 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:40:06 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:40:06 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:40:06 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:40:06 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:40:06 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:40:06 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:40:06 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:40:06 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:40:06 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:40:06 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:40:06 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:40:06 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:40:06 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:40:06 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:40:06 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:40:35 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 69c146d9-9c86-43d3-863d-120ef39b0095
2025-06-22 21:40:35 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:35 - modules.downloader.manager - INFO - 📥 创建下载任务: 69c146d9-9c86-43d3-863d-120ef39b0095 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:35 - modules.downloader.manager - INFO - 🔄 开始执行下载: 69c146d9-9c86-43d3-863d-120ef39b0095 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:35 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:35 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:40:35 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:40:35 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:40:35 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:40:35 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:35 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:37 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:40:37 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:40:37 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 69c146d9-9c86-43d3-863d-120ef39b0095
2025-06-22 21:40:37 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:40:37 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 69c146d9-9c86-43d3-863d-120ef39b0095, 延迟 2 秒
2025-06-22 21:40:37 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:39 - modules.downloader.manager - INFO - 🔄 开始执行下载: 69c146d9-9c86-43d3-863d-120ef39b0095 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:39 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:39 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:40:39 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:40:39 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:40:39 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:40:39 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:39 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:40 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:40:40 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:40:40 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 69c146d9-9c86-43d3-863d-120ef39b0095
2025-06-22 21:40:40 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:40:40 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 69c146d9-9c86-43d3-863d-120ef39b0095, 延迟 4 秒
2025-06-22 21:40:40 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:43 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 100fe363-053a-4709-a7f9-8b0085eb8da3
2025-06-22 21:40:43 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:43 - modules.downloader.manager - INFO - 📥 创建下载任务: 100fe363-053a-4709-a7f9-8b0085eb8da3 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:43 - modules.downloader.manager - INFO - 🔄 开始执行下载: 100fe363-053a-4709-a7f9-8b0085eb8da3 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:43 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:43 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:40:43 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:40:43 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:40:43 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:40:43 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:43 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:44 - modules.downloader.manager - INFO - 🔄 开始执行下载: 69c146d9-9c86-43d3-863d-120ef39b0095 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:44 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:44 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:40:44 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:40:44 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:40:44 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:40:44 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:44 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:44 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:40:44 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:40:45 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:40:45 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:40:45 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (3/3): 69c146d9-9c86-43d3-863d-120ef39b0095
2025-06-22 21:40:45 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:40:45 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 69c146d9-9c86-43d3-863d-120ef39b0095, 延迟 8 秒
2025-06-22 21:40:45 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:45 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (1/3): 100fe363-053a-4709-a7f9-8b0085eb8da3
2025-06-22 21:40:45 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:40:45 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 100fe363-053a-4709-a7f9-8b0085eb8da3, 延迟 2 秒
2025-06-22 21:40:45 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:47 - modules.downloader.manager - INFO - 🔄 开始执行下载: 100fe363-053a-4709-a7f9-8b0085eb8da3 - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:47 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:47 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:40:47 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:40:47 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:40:47 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:40:47 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:47 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:48 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:40:48 - modules.downloader.manager - ERROR - ❌ 通用下载失败: No module named 'core.utils'
2025-06-22 21:40:48 - modules.downloader.retry_manager - INFO - 🔄 允许重试 (2/3): 100fe363-053a-4709-a7f9-8b0085eb8da3
2025-06-22 21:40:48 - modules.downloader.retry_manager - INFO - 🔄 错误类型: unknown
2025-06-22 21:40:48 - modules.downloader.retry_manager - INFO - ⏱️ 安排重试任务: 100fe363-053a-4709-a7f9-8b0085eb8da3, 延迟 4 秒
2025-06-22 21:40:48 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:53 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:40:53 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:40:55 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:40:55 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:40:56 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:40:56 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:40:56 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:40:56 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:40:56 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:40:56 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:40:56 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:40:56 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:40:56 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:40:56 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:40:56 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:40:59 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:40:59 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:40:59 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:40:59 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:40:59 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:40:59 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:40:59 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:40:59 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:40:59 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 4021c825-90c7-444d-a057-4e99b3e5310e
2025-06-22 21:40:59 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:59 - modules.downloader.manager - INFO - 🔄 开始执行下载: 4021c825-90c7-444d-a057-4e99b3e5310e - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:59 - modules.downloader.manager - INFO - 📥 创建下载任务: 4021c825-90c7-444d-a057-4e99b3e5310e - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:40:59 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:40:59 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:40:59 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:40:59 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:40:59 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:40:59 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:59 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:40:59 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:41:01 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:41:01 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:03 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:04 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:05 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:06 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:07 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:08 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:09 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:10 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:11 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:12 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:13 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:14 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:15 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:16 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:17 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:18 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:19 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:20 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:21 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:22 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:23 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:24 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:25 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:26 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:27 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:28 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:29 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:30 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:31 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:31 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:41:31 - modules.telegram.notifier - ERROR - ❌ 处理下载进度事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:46:51 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:46:51 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:46:51 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:46:51 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:46:51 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:46:51 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:46:51 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:46:51 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:46:51 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:46:51 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:46:51 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:46:51 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:46:51 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:46:51 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:46:51 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:46:51 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:46:51 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:46:51 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:46:51 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:46:51 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:46:51 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:46:51 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:46:51 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:46:51 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:46:51 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:46:51 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:46:51 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:46:51 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:46:51 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:46:51 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:46:51 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:46:51 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:46:51 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:46:51 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:46:51 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:46:51 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:46:51 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:46:51 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:46:51 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:46:51 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:46:51 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:46:51 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:46:51 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:46:51 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:46:51 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:46:51 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:46:51 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:46:51 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:46:51 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:47:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:47:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:47:37 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:47:37 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:47:38 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:47:38 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:47:38 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:47:38 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:47:38 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:47:38 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 21:47:38 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 21:47:38 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:47:38 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:47:38 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:47:38 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:47:38 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:47:38 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:47:41 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:47:41 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:47:41 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:47:41 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:47:41 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:47:41 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:47:41 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:47:41 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:47:41 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 39e3419c-0be9-418f-a37a-55150b035ade
2025-06-22 21:47:41 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:47:41 - modules.downloader.manager - INFO - 🔄 开始执行下载: 39e3419c-0be9-418f-a37a-55150b035ade - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:47:41 - modules.downloader.manager - INFO - 📥 创建下载任务: 39e3419c-0be9-418f-a37a-55150b035ade - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:47:41 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:47:41 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:47:41 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:47:41 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:47:41 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:47:41 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:47:41 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:47:42 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:47:42 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:49:07 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-22 21:49:07 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-22 21:49:07 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-22 21:49:08 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-22 21:49:10 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 21:49:10 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 21:49:10 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-22 21:49:50 - core.auth - INFO - ✅ 用户登出: admin
2025-06-22 21:49:52 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:49:52 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:51:37 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:51:37 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:51:37 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:51:37 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:51:37 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:51:37 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:51:37 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:51:37 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:51:37 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:51:37 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:51:37 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:51:37 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:51:37 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:51:37 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:51:37 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:51:37 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:51:37 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:51:37 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:51:37 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:51:37 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:51:37 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:51:37 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:51:37 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:51:37 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:51:37 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:51:37 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:51:37 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:51:37 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:51:37 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:51:37 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:51:37 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:51:37 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:51:37 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:51:37 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:51:37 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:51:37 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:51:37 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:51:37 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:51:37 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:51:37 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:51:37 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:51:37 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:51:37 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:51:37 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:51:37 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:51:37 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:51:37 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:51:37 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:51:37 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:51:37 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 21:52:31 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:52:31 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:52:31 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:52:31 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:52:31 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:52:31 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:52:31 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:52:31 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:52:31 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:52:31 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:52:31 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:52:31 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:52:31 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:52:32 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:52:32 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:52:32 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:52:32 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:52:32 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:52:32 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:52:32 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:52:32 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:52:32 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:52:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:52:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:52:32 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:52:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:52:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:52:32 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:52:32 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:52:32 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:52:32 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:52:32 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:52:32 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:52:32 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:52:32 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:52:32 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:52:32 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:52:32 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:52:32 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:52:32 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:52:32 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:52:32 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:52:32 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:52:32 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:52:32 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:52:32 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:52:32 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:52:32 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:52:32 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:52:36 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 21:52:36 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 21:52:37 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:52:37 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 21:52:37 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 21:52:37 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 21:52:37 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 21:52:37 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 21:52:37 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 21:52:37 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 21:52:37 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 21:52:37 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 21:52:37 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 21:52:37 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 21:52:37 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 21:53:11 - api.routes - INFO - 🔄 收到Telegram配置获取请求
2025-06-22 21:53:11 - api.routes - INFO - 📥 从数据库获取的配置: {'id': 1, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'enabled': 1, 'push_mode': 'file', 'auto_download': 1, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook', 'created_at': '2025-06-20 14:02:18', 'updated_at': '2025-06-20 14:02:22'}
2025-06-22 21:53:11 - api.routes - INFO - 📤 返回的配置: {'enabled': True, 'bot_token': '5047969186:AAF-nu-8SHjWwP3AbZptJ4CwyU9ngMQ35dw', 'chat_id': '726331126', 'api_id': 18162286, 'api_hash': 'a0b565a5bbc2024075706bac692430b2', 'push_mode': 'file', 'auto_download': True, 'file_size_limit': 50, 'webhook_url': 'https://telegram.1100.dpdns.org/telegram/webhook'}
2025-06-22 21:53:12 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 21:53:12 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 21:53:12 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 21:53:12 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 21:53:12 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 21:53:12 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 21:53:12 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 21:53:12 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 21:53:12 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 28 字符
2025-06-22 21:53:14 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 21:53:14 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 21:53:14 - api.routes - INFO - 🔍 Telegram测试结果: {'success': True, 'message': '连接测试成功', 'implementation': True, 'bot_api': True, 'pyrogrammod': True}
2025-06-22 21:56:05 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:56:05 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:56:05 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:56:05 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:56:05 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:56:05 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:56:05 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:56:05 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:56:05 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:56:05 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:56:05 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:56:05 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:56:05 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:56:05 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:56:05 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:56:05 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:56:05 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:56:05 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:56:05 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:56:05 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:56:05 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:56:05 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:56:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:56:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:56:05 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:56:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:56:05 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:56:05 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:56:05 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:56:05 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:56:05 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:56:05 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:56:05 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:56:05 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:56:05 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:56:05 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:56:05 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:56:05 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:56:05 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:56:05 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:56:05 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:56:05 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:56:05 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:56:05 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:56:05 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:56:05 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:56:05 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:56:05 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:56:05 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 21:56:21 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 58ec7319-be23-4cb6-b957-9f492ae32a3f
2025-06-22 21:56:21 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 21:56:21 - modules.downloader.manager - INFO - 🔄 开始执行下载: 58ec7319-be23-4cb6-b957-9f492ae32a3f - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:56:21 - modules.downloader.manager - INFO - 📥 创建下载任务: 58ec7319-be23-4cb6-b957-9f492ae32a3f - https://surrit.com/c0dab6a6-b3d4-434b-bcde-02b014f32d99/720p/video.m3u8
2025-06-22 21:56:21 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 21:56:21 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 21:56:21 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 21:56:21 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 21:56:21 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 21:56:21 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 21:56:21 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 21:56:23 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 21:56:23 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 21:59:12 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 21:59:12 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 21:59:12 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 21:59:12 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 21:59:12 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 21:59:12 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 21:59:12 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 21:59:12 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 21:59:12 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 21:59:12 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 21:59:12 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 21:59:12 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 21:59:12 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 21:59:12 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 21:59:12 - __main__ - INFO - 📋 环境信息: local
2025-06-22 21:59:12 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 21:59:12 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 21:59:12 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 21:59:12 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 21:59:12 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 21:59:12 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 21:59:12 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 21:59:12 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:59:12 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 21:59:12 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 21:59:12 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:59:12 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 21:59:12 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 21:59:12 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 21:59:12 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 21:59:12 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 21:59:12 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 21:59:12 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 21:59:12 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 21:59:12 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 21:59:12 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 21:59:12 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 21:59:12 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 21:59:12 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 21:59:13 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 21:59:13 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 21:59:13 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 21:59:13 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 21:59:13 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 21:59:13 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 21:59:13 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 21:59:13 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 21:59:13 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 21:59:13 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 22:01:52 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 22:01:52 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 22:01:52 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 22:01:52 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 22:01:52 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 22:01:52 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 22:01:52 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 22:01:52 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 22:01:52 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 22:01:52 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 22:01:52 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 22:01:52 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 22:01:52 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 22:01:52 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 22:01:52 - __main__ - INFO - 📋 环境信息: local
2025-06-22 22:01:52 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 22:01:52 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 22:01:52 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 22:01:52 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 22:01:52 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 22:01:52 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 22:01:52 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:01:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:01:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 22:01:52 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 22:01:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:01:52 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:01:52 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 22:01:52 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 22:01:52 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 22:01:52 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 22:01:52 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 22:01:52 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 22:01:52 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 22:01:52 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 22:01:52 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 22:01:52 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 22:01:52 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 22:01:52 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 22:01:52 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 22:01:52 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 22:01:52 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 22:01:52 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 22:01:52 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 22:01:52 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 22:01:52 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 22:01:52 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 22:01:52 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 22:01:52 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 22:01:59 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 22:01:59 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 22:02:03 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 22:02:03 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 22:02:04 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:02:04 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 22:02:04 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 22:02:04 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 22:02:04 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 22:02:04 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 22:02:04 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 22:02:04 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 22:02:04 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 22:02:04 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 22:02:04 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 22:02:04 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 22:02:04 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 22:02:04 - modules.downloader.cleanup - INFO - 🧹 清理完成: 删除 20 个文件，释放 10.2 MB 空间
2025-06-22 22:16:49 - modules.downloader.filename_processor - INFO - ✅ 文件重命名: 58ec7319-be23-4cb6-b957-9f492ae32a3f.mp4 -> JUR-365_已婚秘书,在总裁办公室流汗接吻中出性爱的“友田真希”终于恢复活动了。_“秘书”×“MONROE”梦想合作成真.mp4
2025-06-22 22:16:49 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-22 22:16:49 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: 58ec7319-be23-4cb6-b957-9f492ae32a3f - video
2025-06-22 22:16:49 - modules.telegram.notifier - INFO - 📤 准备发送文件: JUR-365_已婚秘书,在总裁办公室流汗接吻中出性爱的“友田真希”终于恢复活动了。_“秘书”×“MONROE”梦想合作成真.mp4 (1547.8MB)
2025-06-22 22:16:49 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: JUR-365_已婚秘书,在总裁办公室流汗接吻中出性爱的“友田真希”终于恢复活动了。_“秘书”×“MONROE”梦想合作成真.mp4 (1547.8MB)
2025-06-22 22:16:49 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-22 22:17:02 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:17:13 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:17:24 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:17:25 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-22 22:17:36 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:17:47 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:17:58 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:17:59 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-22 22:18:10 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:18:21 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:18:21 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-22 22:18:23 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 22:18:23 - modules.telegram.notifier - ERROR - ❌ 文件发送失败: JUR-365_已婚秘书,在总裁办公室流汗接吻中出性爱的“友田真希”终于恢复活动了。_“秘书”×“MONROE”梦想合作成真.mp4
2025-06-22 22:18:23 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 319 字符
2025-06-22 22:18:25 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 22:18:25 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 22:18:25 - modules.downloader.manager - INFO - 📡 发送下载完成事件: 58ec7319-be23-4cb6-b957-9f492ae32a3f
2025-06-22 22:18:25 - modules.downloader.manager - INFO - ✅ 下载完成: 58ec7319-be23-4cb6-b957-9f492ae32a3f - video
2025-06-22 22:19:01 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 22:19:01 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 22:19:01 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 22:19:01 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 22:19:01 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 22:19:01 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 22:19:01 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 22:19:01 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 22:19:01 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 22:19:01 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 22:19:01 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 22:19:01 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 22:19:01 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 22:19:01 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 22:19:01 - __main__ - INFO - 📋 环境信息: local
2025-06-22 22:19:01 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 22:19:01 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 22:19:01 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 22:19:01 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 22:19:01 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 22:19:01 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 22:19:01 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:19:01 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:19:01 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 22:19:01 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 22:19:01 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:19:01 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:19:01 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 22:19:01 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 22:19:01 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 22:19:01 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 22:19:01 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 22:19:01 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 22:19:01 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 22:19:01 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 22:19:01 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 22:19:01 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 22:19:01 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 22:19:01 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 22:19:01 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 22:19:01 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 22:19:01 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 22:19:01 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 22:19:01 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 22:19:01 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 22:19:01 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 22:19:01 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 22:19:01 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 22:19:01 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 22:19:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 22:19:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 22:20:31 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 22:20:31 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 22:20:32 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:20:32 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 22:20:32 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 22:20:32 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 22:20:32 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 22:20:32 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 22:20:32 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 22:20:32 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 22:20:32 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 22:20:32 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 22:20:32 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 22:20:32 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 22:20:32 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 22:20:32 - modules.downloader.cleanup - INFO - 🧹 清理完成: 删除 1 个文件，释放 1547.8 MB 空间
2025-06-22 22:20:48 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 22:20:48 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 22:20:48 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 22:20:48 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 22:20:48 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 22:20:48 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 22:20:48 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 22:20:48 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 22:20:48 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 82ecc0b0-7735-4b45-a9c2-e47f0e123019
2025-06-22 22:20:48 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 22:20:48 - modules.downloader.manager - INFO - 🔄 开始执行下载: 82ecc0b0-7735-4b45-a9c2-e47f0e123019 - https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fafde8a/720p/video.m3u8
2025-06-22 22:20:48 - modules.downloader.manager - INFO - 📥 创建下载任务: 82ecc0b0-7735-4b45-a9c2-e47f0e123019 - https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fafde8a/720p/video.m3u8
2025-06-22 22:20:48 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 22:20:48 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 22:20:48 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 22:20:48 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 22:20:48 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 22:20:48 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 22:20:48 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 22:20:50 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 22:20:50 - modules.downloader.manager - INFO - 🔄 使用续传文件名: 3647c4cc7ca1 (来自URL: https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fa...)
2025-06-22 22:20:50 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 22:22:32 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 22:22:32 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 22:22:32 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 22:22:32 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 22:22:32 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 22:22:32 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 22:22:32 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 22:22:32 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 22:22:32 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 22:22:32 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 22:22:32 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 22:22:32 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 22:22:32 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 22:22:32 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 22:22:32 - __main__ - INFO - 📋 环境信息: local
2025-06-22 22:22:32 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 22:22:32 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 22:22:32 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 22:22:32 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 22:22:32 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 22:22:32 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 22:22:32 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:22:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:22:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 22:22:32 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 22:22:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:22:32 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:22:32 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 22:22:32 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 22:22:32 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 22:22:32 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 22:22:32 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 22:22:32 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 22:22:32 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 22:22:32 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 22:22:32 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 22:22:32 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 22:22:32 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 22:22:32 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 22:22:32 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 22:22:32 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 22:22:32 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 22:22:32 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 22:22:32 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 22:22:32 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 22:22:32 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 22:22:32 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 22:22:32 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 22:22:32 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 22:22:36 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 22:22:38 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 22:22:38 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 22:22:39 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:22:39 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 22:22:39 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 22:22:39 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 22:22:39 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 22:22:39 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 22:22:39 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 22:22:39 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 22:22:39 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 22:22:39 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 22:22:39 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 22:22:39 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 22:22:39 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 22:22:44 - modules.downloader.manager - INFO - 🔍 找到部分下载文件: ['3647c4cc7ca1.mp4.part', '3647c4cc7ca1.mp4.part-Frag96.part', '3647c4cc7ca1.mp4.ytdl']
2025-06-22 22:22:44 - modules.downloader.manager - INFO - 🔄 发现部分下载文件，将续传: https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fafde8a/720p/video.m3u8
2025-06-22 22:22:44 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 22:22:44 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 22:22:44 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 22:22:44 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 22:22:44 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 22:22:44 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 22:22:44 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 22:22:44 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 22:22:44 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 42e28d63-62bd-4092-8963-91c9f9e9cca9
2025-06-22 22:22:44 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 22:22:44 - modules.downloader.manager - INFO - 🔄 开始执行下载: 42e28d63-62bd-4092-8963-91c9f9e9cca9 - https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fafde8a/720p/video.m3u8
2025-06-22 22:22:44 - modules.downloader.manager - INFO - 📥 创建下载任务: 42e28d63-62bd-4092-8963-91c9f9e9cca9 - https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fafde8a/720p/video.m3u8
2025-06-22 22:22:44 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 22:22:44 - modules.downloader.video_extractor - INFO - 🚫 PyTubeFix跳过非YouTube URL: surrit.com
2025-06-22 22:22:44 - modules.downloader.video_extractor - WARNING - ❌ 提取器失败 pytubefix: PyTubeFix只支持YouTube网站
2025-06-22 22:22:44 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: ytdlp
2025-06-22 22:22:44 - core.proxy_converter - INFO - ✅ VideoExtractor使用代理: socks5://192.168.3.114:1186
2025-06-22 22:22:44 - modules.downloader.video_extractor - INFO - ✅ yt-dlp使用代理: socks5://192.168.3.114:1186
2025-06-22 22:22:44 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 22:22:46 - modules.downloader.video_extractor - INFO - ✅ 提取成功: ytdlp
2025-06-22 22:22:46 - modules.downloader.manager - INFO - 🔄 使用续传文件名: 3647c4cc7ca1 (来自URL: https://surrit.com/c9518d2c-49de-4e38-8d92-a6cc9fa...)
2025-06-22 22:22:46 - core.proxy_converter - INFO - ✅ DownloadManager使用代理: socks5://192.168.3.114:1186
2025-06-22 22:29:48 - modules.downloader.manager - INFO - ✅ 找到下载文件: 3647c4cc7ca1.mp4
2025-06-22 22:29:48 - modules.downloader.filename_processor - INFO - ✅ 文件重命名: 3647c4cc7ca1.mp4 -> MSD189_绿帽奴献妻同事_性瘾痴女老婆喷潮泄欲.mp4
2025-06-22 22:29:48 - modules.downloader.manager - WARNING - ⚠️ 更新数据库状态失败: Database.update_download_status() got an unexpected keyword argument 'completed_at'
2025-06-22 22:29:48 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: 42e28d63-62bd-4092-8963-91c9f9e9cca9 - video
2025-06-22 22:29:48 - modules.telegram.notifier - INFO - 📤 准备发送文件: MSD189_绿帽奴献妻同事_性瘾痴女老婆喷潮泄欲.mp4 (725.3MB)
2025-06-22 22:29:48 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: MSD189_绿帽奴献妻同事_性瘾痴女老婆喷潮泄欲.mp4 (725.3MB)
2025-06-22 22:29:48 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-22 22:30:00 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:30:11 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:30:22 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:30:23 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-22 22:30:35 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:30:46 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:30:57 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:30:58 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-22 22:31:09 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:31:20 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 22:31:20 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-22 22:31:21 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 22:31:21 - modules.telegram.notifier - ERROR - ❌ 文件发送失败: MSD189_绿帽奴献妻同事_性瘾痴女老婆喷潮泄欲.mp4
2025-06-22 22:31:21 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 318 字符
2025-06-22 22:31:23 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-22 22:31:23 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-22 22:31:23 - modules.downloader.manager - INFO - 📡 发送下载完成事件: 42e28d63-62bd-4092-8963-91c9f9e9cca9
2025-06-22 22:31:23 - modules.downloader.manager - INFO - ✅ 下载完成: 42e28d63-62bd-4092-8963-91c9f9e9cca9 - video
2025-06-22 22:39:58 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 22:39:58 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 22:39:58 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 22:39:58 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 22:39:58 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 22:39:58 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 22:39:58 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 22:39:58 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 22:39:58 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 22:39:58 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 22:39:58 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 22:39:58 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 22:39:58 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 22:39:58 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 22:39:58 - __main__ - INFO - 📋 环境信息: local
2025-06-22 22:39:58 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 22:39:58 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 22:39:58 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 22:39:58 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 22:39:58 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 22:39:58 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 22:39:58 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:39:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:39:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 22:39:58 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 22:39:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:39:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:39:58 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 22:39:58 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 22:39:58 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 22:39:58 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 22:39:58 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 22:39:58 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 22:39:58 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 22:39:58 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 22:39:58 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 22:39:58 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 22:39:58 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 22:39:58 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 22:39:58 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 22:39:58 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 22:39:58 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 22:39:58 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 22:39:58 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 22:39:58 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 22:39:58 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 22:39:58 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 22:39:58 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 22:39:58 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 22:50:31 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 22:50:31 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 22:50:31 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 22:50:31 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 22:50:31 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 22:50:31 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 22:50:31 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 22:50:31 - core.config_validator - WARNING - ⚠️ 发现 1 个配置问题
2025-06-22 22:50:31 - core.config_validator - WARNING -    - 配置文件和示例文件都不存在
2025-06-22 22:50:31 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 22:50:31 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 22:50:31 - __main__ - WARNING - ⚠️ 发现配置问题，但将继续启动
2025-06-22 22:50:31 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 22:50:31 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 22:50:31 - __main__ - INFO - 📋 环境信息: local
2025-06-22 22:50:31 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 22:50:31 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 22:50:31 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 22:50:31 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 22:50:31 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 22:50:31 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 22:50:31 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 22:50:31 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:50:31 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 22:50:31 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 22:50:31 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:50:31 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 22:50:31 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 22:50:31 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 22:50:31 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 22:50:31 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 22:50:31 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 22:50:31 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 22:50:31 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 22:50:31 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 22:50:31 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 22:50:31 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 22:50:31 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 22:50:31 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 22:50:31 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 22:50:31 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 22:50:31 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 22:50:31 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 22:50:31 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 22:50:31 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 22:50:31 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 22:50:31 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 22:50:31 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 22:50:31 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 23:10:39 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:10:39 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 23:14:58 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 23:14:58 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 23:14:58 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 23:14:58 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 23:14:58 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 23:14:58 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 23:14:58 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 23:14:58 - core.config_validator - INFO - ✅ 配置验证通过
2025-06-22 23:14:58 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 23:14:58 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 23:14:58 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 23:14:58 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 23:14:58 - __main__ - INFO - 📋 环境信息: local
2025-06-22 23:14:58 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 23:14:58 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 23:14:58 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 23:14:58 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 23:14:58 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 23:14:58 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 23:14:58 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 23:14:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:14:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 23:14:58 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 23:14:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:14:58 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:14:58 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 23:14:58 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 23:14:58 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 23:14:58 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 23:14:58 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 23:14:58 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 23:14:58 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 23:14:58 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 23:14:58 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 23:14:58 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 23:14:58 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 23:14:58 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 23:14:58 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 23:14:58 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 23:14:58 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 23:14:58 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 23:14:58 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 23:14:58 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 23:14:58 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 23:14:58 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 23:14:58 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 23:14:58 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 23:15:21 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:15:21 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:15:25 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:15:25 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=2592000
2025-06-22 23:15:27 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 23:15:27 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 23:15:27 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 23:15:27 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 23:15:27 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 23:15:27 - modules.downloader.manager - INFO - 🧹 发现 1 个遗留下载任务，正在清理...
2025-06-22 23:15:27 - modules.downloader.manager - INFO - ✅ 已清理 1 个遗留下载任务
2025-06-22 23:15:27 - modules.downloader.cleanup - INFO - ✅ 下载文件自动清理已启动
2025-06-22 23:15:27 - modules.downloader.cleanup - INFO - 🧹 开始执行下载文件清理...
2025-06-22 23:15:27 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 23:15:27 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 23:15:27 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 23:15:27 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 23:15:27 - modules.downloader.cleanup - INFO - 🧹 清理完成: 删除 1 个文件，释放 725.3 MB 空间
2025-06-22 23:17:22 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:17:22 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 23:40:11 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 23:40:11 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 23:40:11 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 23:40:11 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 23:40:11 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 23:40:11 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 23:40:11 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 23:40:11 - core.config_validator - INFO - ✅ 配置验证通过
2025-06-22 23:40:11 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 23:40:11 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 23:40:11 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 23:40:11 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 23:40:11 - __main__ - INFO - 📋 环境信息: local
2025-06-22 23:40:11 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 23:40:11 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 23:40:11 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 23:40:11 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 23:40:11 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 23:40:11 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 23:40:11 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 23:40:11 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:40:11 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 23:40:11 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 23:40:11 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:40:11 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:40:11 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 23:40:11 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 23:40:11 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 23:40:11 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 23:40:11 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 23:40:11 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 23:40:11 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 23:40:11 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 23:40:11 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 23:40:11 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 23:40:11 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 23:40:11 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 23:40:11 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 23:40:11 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 23:40:11 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 23:40:11 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 23:40:11 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 23:40:11 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 23:40:11 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 23:40:11 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 23:40:11 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 23:40:11 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 23:41:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:41:02 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:41:31 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:41:31 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 23:41:33 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 23:41:33 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 23:41:33 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 23:41:33 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 23:41:33 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 23:41:33 - core.config - INFO - ✅ 配置文件加载成功: config.yml
2025-06-22 23:41:33 - core.config - INFO - ✅ 配置加载完成
2025-06-22 23:41:33 - modules.downloader.cleanup - INFO - 🔧 清理器配置检查: auto_cleanup = False
2025-06-22 23:41:33 - modules.downloader.cleanup - INFO - 🧹 自动清理已禁用
2025-06-22 23:41:33 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 23:41:33 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 23:41:33 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 23:41:33 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 23:41:36 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:41:36 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:41:39 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:41:39 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 23:42:59 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:42:59 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 23:43:48 - root - INFO - 日志系统初始化完成 - 级别: INFO, 文件: app.log
2025-06-22 23:43:48 - __main__ - INFO - 🚀 启动 YT-DLP Web...
2025-06-22 23:43:48 - __main__ - INFO - 🔍 验证系统配置...
2025-06-22 23:43:48 - core.config_validator - INFO - 🔍 开始配置验证...
2025-06-22 23:43:48 - core.database - INFO - 📊 当前用户数量: 1
2025-06-22 23:43:48 - core.database - INFO - ℹ️ 已存在 1 个用户，跳过默认用户创建
2025-06-22 23:43:48 - core.database - INFO - ✅ 数据库初始化完成
2025-06-22 23:43:48 - core.config_validator - INFO - ✅ 配置验证通过
2025-06-22 23:43:48 - core.config_validator - INFO - 🔧 应用了 1 个修复
2025-06-22 23:43:48 - core.config_validator - INFO -    + 生成新的安全密钥
2025-06-22 23:43:48 - __main__ - INFO - 🔍 检测运行环境...
2025-06-22 23:43:48 - scripts.environment_detector - INFO - ✅ 环境检测完成
2025-06-22 23:43:48 - __main__ - INFO - 📋 环境信息: local
2025-06-22 23:43:48 - __main__ - INFO - 🐳 容器环境: False
2025-06-22 23:43:48 - __main__ - INFO - 🏗️ 构建环境: False
2025-06-22 23:43:48 - __main__ - INFO - 🔽 检查并安装yt-dlp...
2025-06-22 23:43:48 - scripts.ytdlp_installer - INFO - ✅ yt-dlp已可用
2025-06-22 23:43:48 - __main__ - INFO - ✅ yt-dlp 准备就绪
2025-06-22 23:43:48 - __main__ - INFO - 🎬 初始化FFmpeg配置...
2025-06-22 23:43:48 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 23:43:48 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:43:48 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未找到FFmpeg，不更新配置文件
2025-06-22 23:43:48 - __main__ - WARNING - ⚠️ FFmpeg配置更新失败，将使用默认配置
2025-06-22 23:43:48 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:43:48 - modules.downloader.ffmpeg_config - WARNING - ⚠️ 未检测到可用的FFmpeg
2025-06-22 23:43:48 - __main__ - WARNING - ⚠️ FFmpeg不可用，视频合并功能将受限
2025-06-22 23:43:48 - __main__ - INFO - 🔧 创建Flask应用...
2025-06-22 23:43:48 - core.app - INFO - 🔧 创建Flask应用...
2025-06-22 23:43:48 - core.app - INFO - ✅ Flask应用配置完成
2025-06-22 23:43:48 - core.database - INFO - 🔧 管理员用户名: admin (来源: 默认值)
2025-06-22 23:43:48 - core.database - INFO - 🔑 管理员密码: *** (来源: 默认值)
2025-06-22 23:43:48 - core.database - INFO - ℹ️ 管理员用户已存在且密码正确: admin
2025-06-22 23:43:48 - core.database - INFO - 📊 当前管理员用户数量: 1
2025-06-22 23:43:48 - core.app - INFO - ✅ 数据库初始化完成
2025-06-22 23:43:48 - core.app - INFO - ✅ 认证管理器初始化完成
2025-06-22 23:43:48 - core.app - INFO - ✅ 事件总线初始化完成
2025-06-22 23:43:48 - modules.telegram.notifier - INFO - 🔧 现代化 Telegram 事件监听器已注册
2025-06-22 23:43:48 - core.app - INFO - ✅ Telegram事件监听器注册完成
2025-06-22 23:43:48 - core.app - INFO - ✅ 蓝图注册完成
2025-06-22 23:43:48 - core.app - INFO - ✅ 错误处理器注册完成
2025-06-22 23:43:48 - core.app - INFO - ✅ 安全头部中间件注册完成
2025-06-22 23:43:48 - core.app - INFO - 🔧 检查yt-dlp可用性...
2025-06-22 23:43:48 - core.app - INFO - ✅ yt-dlp已可用，版本: 2025.6.9
2025-06-22 23:43:48 - core.app - INFO - ✅ Flask应用创建完成
2025-06-22 23:43:48 - __main__ - INFO - 🗄️ 初始化数据库...
2025-06-22 23:43:48 - __main__ - INFO - ✅ 数据库初始化完成
2025-06-22 23:43:48 - __main__ - INFO - 🌐 启动Web服务器: http://0.0.0.0:8080
2025-06-22 23:47:09 - core.auth - WARNING - ⚠️ JWT令牌无效: Signature verification failed
2025-06-22 23:47:12 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:47:12 - api.routes - INFO - 🍪 设置cookie: auth_token=eyJhbGciOiJIUzI1NiIs..., max_age=86400
2025-06-22 23:47:13 - modules.downloader.ffmpeg_tools - WARNING - ⚠️ 未找到FFmpeg，某些功能可能不可用
2025-06-22 23:47:13 - modules.downloader.youtube_strategies - INFO - ✅ 初始化 5 个YouTube策略
2025-06-22 23:47:13 - modules.downloader.video_extractor - INFO - ✅ PyTubeFix下载器可用
2025-06-22 23:47:13 - modules.downloader.video_extractor - INFO - 📋 可用提取器: 2 个
2025-06-22 23:47:13 - modules.downloader.manager - INFO - ✅ 模块化组件初始化完成
2025-06-22 23:47:13 - modules.downloader.cleanup - INFO - 🔧 清理器配置检查: auto_cleanup = False (来源: 配置文件)
2025-06-22 23:47:13 - modules.downloader.cleanup - INFO - 🧹 自动清理已禁用
2025-06-22 23:47:13 - modules.downloader.manager - INFO - ✅ 下载管理器V2初始化完成 - 最大并发: 3
2025-06-22 23:47:13 - modules.downloader.manager - INFO - 🔧 FFmpeg状态: 不可用
2025-06-22 23:47:13 - modules.downloader.manager - INFO - 📋 可用提取器: 2 个
2025-06-22 23:47:13 - modules.downloader.manager - INFO - 🎯 YouTube策略: 5 个
2025-06-22 23:47:16 - modules.cookies.routes - INFO - 🍪 访问Cookies管理页面
2025-06-22 23:47:17 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 23:47:17 - modules.cookies.manager - INFO - ✅ Cookies目录: G:\项目代码\yt-dlp-web-main\data\cookies
2025-06-22 23:47:21 - modules.cookies.routes - INFO - 🚀 开始自动生成PO Token
2025-06-22 23:47:21 - core.proxy_converter - INFO - 🔄 AutoGeneratePOToken尝试转换SOCKS5代理为HTTP代理
2025-06-22 23:47:21 - core.proxy_converter - INFO - 🔧 AutoGeneratePOToken尝试HTTP代理: 192.168.3.114:1190
2025-06-22 23:47:21 - modules.cookies.routes - INFO - 🌐 代理配置: {'http': 'http://192.168.3.114:1190', 'https': 'http://192.168.3.114:1190'}
2025-06-22 23:47:21 - modules.cookies.routes - INFO - 🔍 生成visitor data...
2025-06-22 23:47:22 - modules.cookies.routes - INFO - ✅ 成功获取visitor data: Cgs1THZTdXk1TzBNbyiG...
2025-06-22 23:47:22 - modules.cookies.routes - INFO - 🔍 使用Node.js生成PO Token...
2025-06-22 23:47:23 - modules.cookies.routes - INFO - ✅ Node.js PO Token生成成功: o1KzPhNT3cQ+kAN3ljvy...
2025-06-22 23:47:23 - modules.cookies.routes - INFO - 💾 保存PO Token配置...
2025-06-22 23:47:23 - modules.cookies.manager - INFO - ✅ YouTube 认证配置保存成功
2025-06-22 23:47:23 - core.po_token_manager - INFO - ✅ PO Token配置已保存 (来源: WebAutoGenerator)
2025-06-22 23:47:23 - core.po_token_manager - INFO -    PO Token: o1KzPhNT3cQ+kAN3ljvy...
2025-06-22 23:47:23 - core.po_token_manager - INFO -    Visitor Data: Cgs1THZTdXk1TzBNbyiG...
2025-06-22 23:47:23 - modules.cookies.routes - INFO - 🎉 自动生成PO Token完成
2025-06-22 23:47:23 - modules.cookies.manager - INFO - ✅ YouTube 认证配置保存成功
2025-06-22 23:47:32 - modules.cookies.manager - INFO - ✅ YouTube 认证配置保存成功
2025-06-22 23:47:44 - modules.telegram.notifier - INFO - ✅ 从数据库加载 Telegram 配置成功
2025-06-22 23:47:44 - modules.telegram.notifier - INFO - 🔧 Telegram 配置: enabled=True, bot_token=已配置, chat_id=726331126
2025-06-22 23:47:44 - core.proxy_converter - INFO - 🔄 Telegram-BotAPI尝试转换SOCKS5代理为HTTP代理
2025-06-22 23:47:44 - core.proxy_converter - INFO - 🔧 Telegram-BotAPI尝试HTTP代理: 192.168.3.114:1190
2025-06-22 23:47:44 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Bot API 上传器初始化成功
2025-06-22 23:47:44 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 上传器初始化成功（延迟依赖检查）
2025-06-22 23:47:44 - modules.telegram.uploaders.modern_hybrid - INFO - ✅ Pyrofork 上传器初始化成功
2025-06-22 23:47:44 - modules.telegram.notifier - INFO - ✅ 现代化 Telegram 通知器初始化成功
2025-06-22 23:47:44 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 8aa80114-fd70-48b2-8d23-7caf672fbabb
2025-06-22 23:47:44 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 23:47:44 - modules.downloader.manager - INFO - 🔄 开始执行下载: 8aa80114-fd70-48b2-8d23-7caf672fbabb - https://youtu.be/3mUdydbgw3U?si=g5Z0tOuU0glxH87o
2025-06-22 23:47:44 - modules.downloader.manager - INFO - 📥 创建下载任务: 8aa80114-fd70-48b2-8d23-7caf672fbabb - https://youtu.be/3mUdydbgw3U?si=g5Z0tOuU0glxH87o
2025-06-22 23:47:44 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 23:47:44 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-22 23:47:44 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.3.114:1190
2025-06-22 23:47:44 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://youtu.be/3mUdydbgw3U?si=g5Z0tOuU0glxH87o
2025-06-22 23:47:44 - core.po_token_manager - INFO - 🔍 PyTubeFix-Extract 验证PO Token有效性...
2025-06-22 23:47:44 - core.proxy_converter - INFO - ✅ POTokenVerify-PyTubeFix-Extract使用代理: socks5://192.168.3.114:1186
2025-06-22 23:49:17 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:49:17 - modules.auth.routes - INFO - ✅ 用户登录成功: admin
2025-06-22 23:49:49 - core.auth - INFO - ✅ 用户登录成功: admin
2025-06-22 23:49:49 - modules.auth.routes - INFO - ✅ 用户登录成功: admin
2025-06-22 23:56:07 - modules.telegram.notifier - INFO - 📡 Web 下载开始跟踪: 79ccb4c2-6c00-4ea1-92a0-16422178a14c
2025-06-22 23:56:07 - modules.telegram.notifier - ERROR - ❌ 处理下载开始事件失败: 'NoneType' object is not subscriptable
2025-06-22 23:56:07 - modules.downloader.manager - INFO - 🔄 开始执行下载: 79ccb4c2-6c00-4ea1-92a0-16422178a14c - https://youtu.be/3mUdydbgw3U?si=Tt8I0-P0XHfr9Nyc
2025-06-22 23:56:07 - modules.downloader.manager - INFO - 📥 创建下载任务: 79ccb4c2-6c00-4ea1-92a0-16422178a14c - https://youtu.be/3mUdydbgw3U?si=Tt8I0-P0XHfr9Nyc
2025-06-22 23:56:07 - modules.downloader.video_extractor - INFO - 🔄 尝试提取器: pytubefix
2025-06-22 23:56:07 - core.proxy_converter - INFO - 🔄 VideoExtractor-PyTubeFix尝试转换SOCKS5代理为HTTP代理
2025-06-22 23:56:07 - core.proxy_converter - INFO - 🔧 VideoExtractor-PyTubeFix尝试HTTP代理: 192.168.3.114:1190
2025-06-22 23:56:07 - modules.downloader.pytubefix_downloader - INFO - 🔧 PyTubeFix开始提取: https://youtu.be/3mUdydbgw3U?si=Tt8I0-P0XHfr9Nyc
2025-06-22 23:56:07 - core.po_token_manager - INFO - 🔍 PyTubeFix-Extract 验证PO Token有效性...
2025-06-22 23:56:07 - core.proxy_converter - INFO - ✅ POTokenVerify-PyTubeFix-Extract使用代理: socks5://192.168.3.114:1186
2025-06-22 23:58:25 - core.po_token_manager - INFO - ✅ PyTubeFix-Extract 当前PO Token有效，直接使用
2025-06-22 23:58:25 - core.po_token_manager - INFO - 🔑 PyTubeFix-Extract 使用手动配置的PO Token
2025-06-22 23:58:25 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-22 23:58:25 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-22 23:58:25 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - PO Token可用，支持最高分辨率
2025-06-22 23:58:31 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: 穩定幣背後的利益與陰謀！政府、公司和投機者如何利用穩定幣謀取利益｜政經孫老師 Mr. Sun Official (21个格式)
2025-06-22 23:58:31 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-22 23:58:31 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-22 23:58:31 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-22 23:58:31 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.3.114:1186
2025-06-22 23:58:31 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: G:\app\data\cookies\youtube_temp.txt
2025-06-22 23:58:31 - modules.downloader.youtube_strategies - WARNING - ⚠️ 未找到FFmpeg，高质量合并和音频修复可能失败
2025-06-22 23:58:49 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\8aa80114-fd70-48b2-8d23-7caf672fbabb.mp4
2025-06-22 23:58:49 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-22 23:58:49 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-22 23:58:49 - modules.downloader.filename_processor - INFO - ✅ 主文件重命名: 8aa80114-fd70-48b2-8d23-7caf672fbabb.mp4 -> 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official.mp4
2025-06-22 23:58:49 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: 8aa80114-fd70-48b2-8d23-7caf672fbabb - 穩定幣背後的利益與陰謀！政府、公司和投機者如何利用穩定幣謀取利益｜政經孫老師 Mr. Sun Official
2025-06-22 23:58:49 - modules.telegram.notifier - INFO - 📤 准备发送文件: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official.mp4 (68.3MB)
2025-06-22 23:58:49 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official.mp4 (68.3MB)
2025-06-22 23:58:49 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-22 23:58:51 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 使用代理: {'scheme': 'socks5', 'hostname': '192.168.3.114', 'port': 1186, 'username': '', 'password': ''}
2025-06-22 23:59:01 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 23:59:12 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 23:59:23 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 23:59:24 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-22 23:59:35 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 23:59:46 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 23:59:57 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-22 23:59:58 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-23 00:00:09 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:00:20 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:00:21 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-23 00:00:22 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-23 00:00:22 - modules.telegram.notifier - ERROR - ❌ 文件发送失败: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official.mp4
2025-06-23 00:00:22 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 362 字符
2025-06-23 00:00:24 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-23 00:00:24 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-23 00:00:24 - modules.downloader.manager - INFO - 📡 发送下载完成事件: 8aa80114-fd70-48b2-8d23-7caf672fbabb
2025-06-23 00:00:24 - modules.downloader.manager - INFO - ✅ 下载完成: 8aa80114-fd70-48b2-8d23-7caf672fbabb - 穩定幣背後的利益與陰謀！政府、公司和投機者如何利用穩定幣謀取利益｜政經孫老師 Mr. Sun Official
2025-06-23 00:06:48 - core.po_token_manager - INFO - ✅ PyTubeFix-Extract 当前PO Token有效，直接使用
2025-06-23 00:06:48 - core.po_token_manager - INFO - 🔑 PyTubeFix-Extract 使用手动配置的PO Token
2025-06-23 00:06:48 - modules.downloader.pytubefix_downloader - INFO - 🤖 使用标准认证模式
2025-06-23 00:06:48 - modules.downloader.pytubefix_downloader - INFO - 🔍 环境检测: 容器环境=False
2025-06-23 00:06:48 - modules.downloader.pytubefix_downloader - INFO - 🎯 选择客户端: WEB - PO Token可用，支持最高分辨率
2025-06-23 00:06:52 - modules.downloader.pytubefix_downloader - INFO - ✅ PyTubeFix提取成功: 穩定幣背後的利益與陰謀！政府、公司和投機者如何利用穩定幣謀取利益｜政經孫老師 Mr. Sun Official (21个格式)
2025-06-23 00:06:52 - modules.downloader.video_extractor - INFO - ✅ 提取成功: pytubefix
2025-06-23 00:06:52 - modules.downloader.youtube_strategies - INFO - 🔄 尝试引擎: ytdlp
2025-06-23 00:06:52 - modules.downloader.youtube_strategies - INFO - 🔄 yt-dlp策略: default
2025-06-23 00:06:52 - core.proxy_converter - INFO - ✅ YouTubeStrategies使用代理: socks5://192.168.3.114:1186
2025-06-23 00:06:52 - modules.downloader.youtube_strategies - INFO - ✅ 使用cookies文件: G:\app\data\cookies\youtube_temp.txt
2025-06-23 00:06:52 - modules.downloader.youtube_strategies - WARNING - ⚠️ 未找到FFmpeg，高质量合并和音频修复可能失败
2025-06-23 00:07:14 - modules.downloader.youtube_strategies - INFO - ✅ 找到下载文件: data\downloads\79ccb4c2-6c00-4ea1-92a0-16422178a14c.mp4
2025-06-23 00:07:14 - modules.downloader.youtube_strategies - INFO - ✅ yt-dlp策略成功: default
2025-06-23 00:07:14 - modules.downloader.youtube_strategies - INFO - ✅ 引擎成功: ytdlp
2025-06-23 00:07:14 - modules.downloader.filename_processor - INFO - 🔄 文件名冲突，使用: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official_1.mp4
2025-06-23 00:07:14 - modules.downloader.filename_processor - INFO - ✅ 主文件重命名: 79ccb4c2-6c00-4ea1-92a0-16422178a14c.mp4 -> 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official_1.mp4
2025-06-23 00:07:14 - modules.telegram.notifier - INFO - 📡 收到下载完成事件: 79ccb4c2-6c00-4ea1-92a0-16422178a14c - 穩定幣背後的利益與陰謀！政府、公司和投機者如何利用穩定幣謀取利益｜政經孫老師 Mr. Sun Official
2025-06-23 00:07:14 - modules.telegram.notifier - INFO - 📤 准备发送文件: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official_1.mp4 (68.3MB)
2025-06-23 00:07:14 - modules.telegram.uploaders.modern_hybrid - INFO - 📤 智能发送 video 文件: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official_1.mp4 (68.3MB)
2025-06-23 00:07:14 - modules.telegram.uploaders.modern_hybrid - INFO - 🎯 选择使用 Pyrofork 上传器
2025-06-23 00:07:14 - modules.telegram.uploaders.pyrofork_uploader - INFO - ✅ Pyrofork 使用代理: {'scheme': 'socks5', 'hostname': '192.168.3.114', 'port': 1186, 'username': '', 'password': ''}
2025-06-23 00:07:24 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:07:35 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:07:46 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:07:47 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-23 00:07:58 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:08:09 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:08:20 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:08:21 - pyrogram.connection.connection - WARNING - Connection failed! Trying again...
2025-06-23 00:08:32 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:08:43 - pyrogram.connection.connection - WARNING - Unable to connect due to network issues: Connection timed out
2025-06-23 00:08:44 - modules.telegram.uploaders.pyrofork_uploader - ERROR - ❌ Pyrofork 客户端启动超时（90秒）
2025-06-23 00:08:46 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-23 00:08:46 - modules.telegram.notifier - ERROR - ❌ 文件发送失败: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official_1.mp4
2025-06-23 00:08:46 - modules.telegram.notifier - INFO - 📤 发送 Telegram 消息，长度: 362 字符
2025-06-23 00:08:47 - modules.telegram.uploaders.bot_api - INFO - ✅ Bot API消息发送成功
2025-06-23 00:08:47 - modules.telegram.notifier - INFO - ✅ 消息发送成功
2025-06-23 00:08:47 - modules.downloader.manager - INFO - 📡 发送下载完成事件: 79ccb4c2-6c00-4ea1-92a0-16422178a14c
2025-06-23 00:08:47 - modules.downloader.manager - INFO - ✅ 下载完成: 79ccb4c2-6c00-4ea1-92a0-16422178a14c - 穩定幣背後的利益與陰謀！政府、公司和投機者如何利用穩定幣謀取利益｜政經孫老師 Mr. Sun Official
2025-06-23 00:15:39 - modules.files.routes - INFO - 🎥 流媒体播放: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official.mp4
2025-06-23 00:15:39 - modules.files.routes - INFO - 文件大小: 71607128 bytes (68.3MB), MIME类型: video/mp4, 大视频: False
2025-06-23 00:15:39 - modules.files.routes - INFO - 处理Range请求: bytes=0-
2025-06-23 00:15:42 - modules.files.routes - INFO - 🎥 流媒体播放: 穩定幣背後的利益與陰謀!政府、公司和投機者如何利用穩定幣謀取利益_政經孫老師_Mr._Sun_Official.mp4
2025-06-23 00:15:42 - modules.files.routes - INFO - 文件大小: 71607128 bytes (68.3MB), MIME类型: video/mp4, 大视频: False
2025-06-23 00:15:42 - modules.files.routes - INFO - 处理Range请求: bytes=917504-
